{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/plugin/xBim/font/iconfont.js","webpack:///./src/App.vue","webpack:///./src/App.vue?889f","webpack:///./src/plugin/xBim/xBim.vue","webpack:///./src/plugin/xBim/plugins/ClickPanelChecker/vshader.ts","webpack:///./src/plugin/xBim/plugins/ClickPanelChecker/ClickPanelChecker.ts","webpack:///./src/plugin/xBim/plugins/Measure/vshader.ts","webpack:///./src/plugin/xBim/plugins/TextRender/TextRender.ts","webpack:///./src/plugin/xBim/plugins/Measure/Measure.ts","webpack:///./src/plugin/xBim/plugins/MovingPlane/vshader.ts","webpack:///./src/plugin/xBim/plugins/LinesDrawer/vshader.ts","webpack:///./src/plugin/xBim/plugins/LinesDrawer/LinesDrawer.ts","webpack:///./src/plugin/xBim/plugins/MovingPlane/MovingPlane.ts","webpack:///./src/plugin/xBim/XbimCenter.ts","webpack:///./src/plugin/xBim/plugins/navigator/mouse-navigation.ts","webpack:///./src/plugin/xBim/manager/ManagerMark.ts","webpack:///./src/plugin/xBim/plugins/Tree.vue","webpack:///./src/plugin/xBim/plugins/Tree.vue?7c89","webpack:///./src/plugin/xBim/plugins/Tree.vue?857b","webpack:///./src/plugin/xBim/xBim.vue?5847","webpack:///./src/plugin/xBim/xBim.vue?611f","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/App.vue?bed8"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","a","getElementsByTagName","getAttribute","__iconfont__svg__cssinject__","write","log","innerHTML","style","position","width","height","overflow","body","firstChild","parentNode","insertBefore","addEventListener","indexOf","readyState","removeEventListener","attachEvent","documentElement","doScroll","onreadystatechange","render","class","viewBox","version","xmlns","p-id","fill","id","ref","ctrXbim","fps","selectedData","model","lastClickId","flagClipping","header","toggleClipping","title","toggleCreateClip","disabled","clippingPlanes","resetPlane","showClipping","toggleClippingPlane","changeClippingPrg","changeClipPrg","show-tooltip","progress","step","Attribute_details","shadow","element-loading-text","element-loading-spinner","element-loading-background","remove","max-height","keys","detailData","val","loadingDetail","Modeflag","flagMark","hideItems","treeList","dataTree","displayflag","flag","selInModel","doLookAt","getDetailInfo","flagWalking","loading","toggleChange","flagMeasuring","toggleMeasure","flagRotate","toggleRotate","toggleWalking","Markingnter","Markingout","flagMarking","toggleMarking","clearMarking","toggleDetails","toggleflag","camera","cameraChange","isFullscreen","isScreenFull","vshader","initialized","_modelId","factor","zFactor","numberOfLines","colour","fromValues","_stopped","boxData","this","viewer","draw","gl","_initShader","useProgram","program","vertex_buffer","createBuffer","bindBuffer","ARRAY_BUFFER","coordinatesAttributePointer","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","_colourCodingUniformPointer","getUniformLocation","_prodId","colourUniformPointer","pUniformPointer","mvUniformPointer","box","stopped","selectedBox","doDraw","panelId","checkSelMian","selectedPanelId","find","item","startX","clientX","startY","clientY","canvas","getBoundingClientRect","left","top","getId","conf","plane1","getPoints1","x","y","viewX","viewY","fb","glVersion","viewport","enable","DEPTH_TEST","disable","BLEND","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","onAfterDrawId","getXYZ","delete","compile","shader","code","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","msg","getShaderInfoLog","fragCode","fragmentShader","createShader","FRAGMENT_SHADER","vertexShader","VERTEX_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getTargetBoundingBox","max","Math","off","pos","z","size","A1","B1","C1","D1","E1","F1","G1","H1","A","B","C","D","E","F","G","H","getPoints","funcAddPoint","arr","vertices","forEach","num","plane","faxian","vertices1","drawPlane","id2","setActive","uniformMatrix4fv","pMatrix","mvMatrix","uniform4fv","bufferData","Float32Array","STATIC_DRAW","uniform1f","drawArrays","TRIANGLE_STRIP","flagInited","init","buffers","initBuffers","main","txt","querySelector","scale","ctx","getContext","w","measureText","imageDataHRevert","sourceData","newData","h","globalAlpha","fillStyle","textBaseline","font","fillText","imgData","getImageData","newImgData","putImageData","loadTexture","toDataURL","url","texture","createTexture","bindTexture","TEXTURE_2D","level","internalFormat","RGBA","border","srcFormat","srcType","UNSIGNED_BYTE","pixel","Uint8Array","texImage2D","image","Image","isPowerOf2","generateMipmap","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","drawScene","vsSource","fsSource","shaderProgram","initShaderProgram","attribLocations","vertexPosition","textureCoord","uniformLocations","projectionMatrix","modelViewMatrix","uSampler","alert","positionBuffer","len","positions","textureCoordBuffer","textureCoordinates","indexBuffer","ELEMENT_ARRAY_BUFFER","indices","Uint16Array","trans","trans1","translate","programInfo","getMatrix","numComponents","normalize","stride","offset","activeTexture","TEXTURE0","uniform1i","vertexCount","UNSIGNED_SHORT","drawElements","TRIANGLES","loadShader","getProgramInfoLog","source","deleteShader","points","listText","blendFunc","ONE_MINUS_DST_ALPHA","ONE_MINUS_SRC_ALPHA","text","drawWithgl","point1","point2","idx","drawPoint","posPre","drawLineBetween","vecFrom","vecTo","dis","distance","addPlugin","renderText","pointes","deltaX","deltaY","origin","getCameraPosition","mainH","offsetWidth","offsetHeight","fov","cameraProperties","PI","tan","sqrt","pow","x1","y1","z1","vecMove","offX","offY","offZ","vecNow","add","dirId","doOnChangePos","moveX","moveY","moveZ","LINE_STRIP","flagSel","plugins","COLOR_DEFINED","lastPrg","pointesBack","flagSelected","lineDrawer","prg","boxTotal","abs","arrTarget","checkData","xyz","point","dir","SRC_ALPHA","removePlugin","mouseDown","lastMouseX","lastMouseY","handleMouseDown","getEventData","region","getMergedRegion","centre","bb","handleMouseUp","handleMouseMove","newX","newY","onMouseMove","onMouseMove1","parent","linesDrawer","clickChecker","hintTouchingPlane","lastLineDrawer","funcDraw","throttle","on","arg","flagDraw","prodId","modelId","getProductBoundingBox","panel","getClickPanel","vecA","vecB","vecC","vecD","vecAB","subtract","vecCD","vecAC","fn","wait","pre","Date","now","func","args","arguments","ManagerMark","drawer","action","_flagMarking","_flagWalking","_flagHighlightSelect","hilightedDataList","selectedChildren","ComponentID","state","IN_TRANSPORT_DataList","IN_PRODUCED_DataList","IN_INSTALL_DataList","NOT_PRODUCED_DataList","PRODUCED_COMPLETED_DataList","INSTALL_COMPLETED_DataList","TRANSPORT_COMPLETED_DataList","_flagMeasuring","currentPoint","models","Frequency","stateFlag","token","newDataTree","stateTree","listHidden","_flagMouseDownClip","_showClipping","flagClippingCreating","_flagClipping","flagCreateNew","flagClip","clippingId","_flagRotate","prodList","zoomTo","checkHighlight","updateMouseMove","updateSelHighlight","flagHighlightSelect","list","listLookAt","lookAt","setStyle","IN_TRANSPORT","IN_PRODUCED","IN_INSTALL","NOT_PRODUCED","PRODUCED_COMPLETED","INSTALL_COMPLETED","TRANSPORT_COMPLETED","UNSTYLED","SELECTED","modal","COMPLETED","resetStyles","clearMeasure","_selectedData","ctrMarking","definedColor","background","pannelClickChecker","measure","listen","cube","ratio","passiveAlpha","activeAlpha","highlighting","minSize","stopPropagation","preventDefault","selClipping","plugin","prgNew","doMoveByPrg","scrollFunc","container","lastMousePos","initMouseEvents","getCurrentWcs","evt","clearInterval","lastPickArg","wcs","handlePick","parts","includes","String","forIn","onUpdateSel","assign","fromModelClick","flagMouseDownClip","selectedClipPlane","selId","defineStyle","HIDDEN","clearAll","createClippingPlane","resetSelected","selectedHandler","timeOffset","navigate","setState","showAllItems","concat","load","file","loadCall","xrayColour","funcFinish","tag","show","DEFAULT","start","unload","filter","stop","pop","toggleMouseMove","resetClipBox","_selectedClipPlane","toggleSelected","selPlane","createClipBox","ffDrawClip","arrFrom","arrTo","vec","planeClip","getPanel","unclip","setClippingPlaneA","setClippingPlaneB","JSON","parse","stringify","planeObj","clipId","navigationMode","normal","beforeDestroy","startRotation","stopRotation","gutter","span","clearable","doSearch","searchKey","placeholder","onChangeTag","searchTag","showOpts","label","show-checkbox","accordion","listShow","props","defaultProps","node-key","filter-node-method","filterNode","onSingleClick","default","node","onDbClick","groupName","mark","toggleHidden","checkHidden","delayClick","children","timerClick","doSelPord","split","isProd","listParts","getProdId","every","hidden","$emit","listProd","sub1","updateData","listWillHide","itemGroup","$refs","tree","getCheckedNodes","element","getNode","updateVisible","confPart","itemModel","itemSub","isGroup","$nextTick","watch","toggleAll","Array","Boolean","computed","selectedIds","map","selData","selAxis","colorkey","stateUrl","fid","downKey","parId","method","headers","accessToken","filePath","fileid","then","res","prodDataLoaded","sendMsgToPar","moveClippingplane","onParMsg","onKeyDown","onKeyUp","onUpdate","checkSelectedProdIds","loadFile","loadJson","newdataTree","cloneDeep","getstateurl","gettoken","postMessage","time","lastTime","handleKeyEvent","requestAnimationFrame","dataModel","loadView","walk","rsv","responseType","blob","idList","dom","getElementsByClassName","classList","运输中","加工中","安装中","未开始","加工完成","安装完成","运输完成","updateState","resetState","isEnabled","warning","toggle","cancelSelClipPlane","components","Tree","config","routes","path","component","router","history","mutations","actions","App","use","store","mount"],"mappings":"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","file":"js/app.2950203b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"68cf6b32\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","!function(e){var t,n,i,o,c,a,l='<svg><symbol id=\"icon-ic_invisible\" viewBox=\"0 0 1024 1024\"><path d=\"M931.968 282.965333a32 32 0 0 0-45.248-0.874666c-119.274667 114.794667-245.994667 170.944-376.341333 167.296-211.818667-6.144-365.76-169.962667-367.274667-171.626667a32 32 0 0 0-47.061333 43.370667c4.202667 4.565333 67.029333 71.402667 168.810666 125.056 0 0.746667-0.106667 1.472-0.064 2.24 2.154667 28.458667 0.618667 109.674667-31.893333 143.104-10.090667 10.368-22.4 14.912-38.634667 14.058666a32 32 0 1 0-3.050666 63.936c2.154667 0.085333 4.288 0.149333 6.4 0.149334 31.850667 0 59.84-11.562667 81.258666-33.642667 42.112-43.413333 49.834667-117.525333 50.496-160.426667a543.296 543.296 0 0 0 147.328 35.392l5.546667 227.861334a32 32 0 0 0 31.978667 31.210666h0.789333a32 32 0 0 0 31.210667-32.768l-5.44-224.234666c63.936-2.325333 126.677333-17.109333 187.904-44.330667-8.064 63.616 8 154.346667 104.490666 219.946667a31.957333 31.957333 0 0 0 35.989334-52.906667c-112.618667-76.586667-71.082667-186.218667-69.162667-191.104 1.984-4.928 2.517333-10.026667 2.048-14.976 43.946667-27.264 87.04-61.034667 129.088-101.504a32.021333 32.021333 0 0 0 0.832-45.226667z\" fill=\"#333333\" ></path></symbol><symbol id=\"icon-ic_visible\" viewBox=\"0 0 1024 1024\"><path d=\"M119.466667 424.853333a32 32 0 0 1-25.450667-51.392c7.04-9.258667 175.274667-226.688 417.877333-233.472 148.864-3.946667 290.24 71.573333 421.248 225.045334a32 32 0 0 1-48.682666 41.557333c-117.781333-138.026667-242.389333-206.357333-370.773334-202.624-212.330667 5.952-367.210667 206.250667-368.746666 208.277333a31.957333 31.957333 0 0 1-25.472 12.608zM908.821333 587.861333a32 32 0 0 1 25.450667 51.392c-7.04 9.258667-175.274667 226.688-417.877333 233.472-148.885333 3.925333-290.261333-71.594667-421.269334-225.066666a32 32 0 0 1 48.682667-41.557334c117.781333 138.026667 242.389333 206.357333 370.773333 202.624 212.352-5.930667 367.210667-206.229333 368.768-208.256a31.893333 31.893333 0 0 1 25.472-12.608z\" fill=\"#333333\" ></path><path d=\"M514.133333 672.042667c-96.789333 0-175.509333-74.325333-175.509333-165.696s78.72-165.696 175.509333-165.696 175.530667 74.325333 175.530667 165.696-78.741333 165.696-175.530667 165.696z m0-267.392c-61.482667 0-111.509333 45.632-111.509333 101.696s50.026667 101.696 111.509333 101.696 111.530667-45.610667 111.530667-101.696-50.026667-101.696-111.530667-101.696z\" fill=\"#333333\" ></path></symbol></svg>',d=(d=document.getElementsByTagName(\"script\"))[d.length-1].getAttribute(\"data-injectcss\");if(d&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write(\"<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>\")}catch(e){console&&console.log(e)}}function s(){c||(c=!0,i())}t=function(){var e,t,n;(n=document.createElement(\"div\")).innerHTML=l,l=null,(t=n.getElementsByTagName(\"svg\")[0])&&(t.setAttribute(\"aria-hidden\",\"true\"),t.style.position=\"absolute\",t.style.width=0,t.style.height=0,t.style.overflow=\"hidden\",e=t,(n=document.body).firstChild?(t=n.firstChild).parentNode.insertBefore(e,t):n.appendChild(e))},document.addEventListener?~[\"complete\",\"loaded\",\"interactive\"].indexOf(document.readyState)?setTimeout(t,0):(n=function(){document.removeEventListener(\"DOMContentLoaded\",n,!1),t()},document.addEventListener(\"DOMContentLoaded\",n,!1)):document.attachEvent&&(i=t,o=e.document,c=!1,(a=function(){try{o.documentElement.doScroll(\"left\")}catch(e){return void setTimeout(a,50)}s()})(),o.onreadystatechange=function(){\"complete\"==o.readyState&&(o.onreadystatechange=null,s())})}(window);","<template>\n  <router-view/>\n  <!-- <x-bim></x-bim> -->\n</template>\n\n<style lang=\"scss\">\n#app,\nhtml,\nbody {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n}\n*{\n  margin: 0;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=01d8139b\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=01d8139b&lang=scss\"\nscript.render = render\n\nexport default script","\n<template>\n  <div class=\"wrap-xbim\">\n    <div class=\"info noselect\">\n      <!-- <p>鼠标左键旋转，右键拖动</p> -->\n      <!-- <p>=========测试用数据==========</p> -->\n      <!-- <p>加载进度:{{}}</p> -->\n      <p style=\"font-family: Arial, Helvetica, sans-serif; margin-top: 18px;\">FPS:{{ctrXbim.fps}}</p>\n      <p>选中的prodId:{{ctrXbim.selectedData&&ctrXbim.selectedData.id}}</p>\n      <p>选中的模型:{{ctrXbim.selectedData&&ctrXbim.selectedData.model}}</p>\n      <p>当前选中的剖切面方向{{ctrXbim.lastClickId}}</p>\n    </div>\n    <div class=\"wrap-right-top noselect\">\n      <!-- 裁切信息 -->\n      <el-card v-if=\"ctrXbim.flagClipping\" class=\"box-card Sectioningbox\">\n        <template #header>\n          <div class=\"card-header\">\n            <span>剖切信息</span>\n            <el-button type=\"text\" @click=\"toggleClipping\">\n              <i style=\"font-size: 20px\" class=\"el-icon-close\" />\n            </el-button>\n          </div>\n        </template>\n        <div class=\"main\">\n          <div class=\"box\" title=\"创建切面\" @click=\"toggleCreateClip(true)\" :disabled=\"ctrXbim.clippingPlanes.length>=2\">\n            <svg t=\"1629252160463\" class=\"icon\" viewBox=\"0 0 1042 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"9328\" width=\"200\" height=\"200\"><path d=\"M944.37744629 201.8213501l-4.41897583-2.41094971a29.3302002 29.3302002 0 0 0-6.02737427-6.02655029L761.16339599 94.1427002a29.7322998 29.7322998 0 0 0-28.12472534-1e-8L560.27097046 193.3838501l-4.82189942 4.82189941-6.83074951 4.0177002a8.83959961 8.83959961 0 0 0-4.41897583 7.63330078v16.875l-8.4375-4.82107544a29.7322998 29.7322998 0 0 0-29.7322998 0l-8.4375 4.82107544v-16.07080078a8.83959961 8.83959961 0 0 0-5.62527466-8.83959961l-6.83074951-4.0177002s-2.81222534-3.61642456-4.82025147-4.82189941L307.54724609 94.1427002a29.7322998 29.7322998 0 0 0-29.7322998-1e-8L105.04724609 193.3838501a28.92892456 28.92892456 0 0 0-6.4286499 6.4286499l-4.41979981 2.41094971a8.83959961 8.83959961 0 0 0-4.01770019 8.4375v217.3661499a8.83959961 8.83959961 0 0 0 4.4197998 7.63330078l4.41979981 2.41094971a28.52682495 28.52682495 0 0 0 6.4286499 6.4286499l172.7677002 99.2411499a29.7322998 29.7322998 0 0 0 29.7322998 0l9.64297485-5.62527466v8.4375a30.13357544 30.13357544 0 0 0 13.66149903 25.71459961l4.41897583 2.41094971-15.67034912 8.83877564a8.83959961 8.83959961 0 0 0-4.41897583 7.63412475v218.57162476a8.4375 8.4375 0 0 0 4.01770019 7.23202514 29.3302002 29.3302002 0 0 0 11.65100098 13.66067505l172.76852417 99.24114991a29.7322998 29.7322998 0 0 0 29.7322998 0l172.7677002-99.24114991a29.3302002 29.3302002 0 0 0 11.65100098-13.66149902 8.4375 8.4375 0 0 0 4.01852416-7.23120117V591.15100098a8.83959961 8.83959961 0 0 0-4.4197998-7.63412476L702.5029956 574.67974854l4.42062378-2.41094971a30.13357544 30.13357544 0 0 0 14.86532593-25.71459961v-8.4375l9.64297485 5.62527466a29.7322998 29.7322998 0 0 0 29.73229981 0l172.76770019-99.2411499a29.7322998 29.7322998 0 0 0 6.02737427-6.0265503l4.41897583-2.4109497a8.83959961 8.83959961 0 0 0 4.41979981-7.63412476v-217.76824951a8.83959961 8.83959961 0 0 0-4.41979981-8.83877564zM523.70874512 474.23229981a8.83959961 8.83959961 0 0 0-8.43750001 0l-134.99999999 75.93749999-19.68722535-11.65182495v-25.71459961l120.53594971-68.70547485 4.82107544-4.82107544 6.02655029-3.61642456a8.83959961 8.83959961 0 0 0 4.41979981-7.63330078V276.95547485l23.3036499-13.25939941 23.3036499 13.25939941v151.07162476a8.83959961 8.83959961 0 0 0 4.41979981 7.63330078l6.83074951 3.61642456a28.92892456 28.92892456 0 0 0 4.82025146 4.82107544l120.53594971 68.70547485v25.3125l-19.68722534 11.65182496z\" p-id=\"9329\"></path></svg>        </div>\n          <div class=\"box\" title=\"清除切面\" @click=\"resetPlane\">\n            <svg t=\"1629249474393\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2010\" width=\"200\" height=\"200\"><path d=\"M970.13086 772.288158a54.60719 54.60719 0 0 0-54.60719 53.753952v89.589921H108.361143V108.469504h85.323734A54.60719 54.60719 0 0 0 255.971203 53.862314 53.753953 53.753953 0 0 0 198.804301 0.108361H53.753953A53.753953 53.753953 0 0 0 0 53.862314v916.376907a57.166902 57.166902 0 0 0 15.358272 38.395681 57.166902 57.166902 0 0 0 38.395681 15.358272h916.376907a52.900715 52.900715 0 0 0 53.753953-53.753953V826.04211a53.753953 53.753953 0 0 0-53.753953-53.753952z\" p-id=\"2011\"></path><path d=\"M380.115011 575.768422m21.229905-46.584776l63.689717-139.754329q21.229906-46.584776 67.814682-25.35487l0 0q46.584776 21.229906 25.354871 67.814682l-63.689717 139.754328q-21.229906 46.584776-67.814682 25.354871l0 0q-46.584776-21.229906-25.354871-67.814682Z\" p-id=\"2012\"></path><path d=\"M472.890248 617.612203m-46.584776-21.229906l-139.754329-63.689717q-46.584776-21.229906-25.35487-67.814681l0 0q21.229906-46.584776 67.814682-25.354871l139.754328 63.689717q46.584776 21.229906 25.354871 67.814682l0 0q-21.229906 46.584776-67.814682 25.35487Z\" p-id=\"2013\"></path><path d=\"M357.506447 454.883866l96.41582-34.129494a238.906456 238.906456 0 1 1 304.605732 145.903586l34.129494 97.269057a341.294938 341.294938 0 1 0-435.151046-209.043149z\" p-id=\"2014\"></path><path d=\"M406.140976 437.819119m-51.194241 0a51.194241 51.194241 0 1 0 102.388481 0 51.194241 51.194241 0 1 0-102.388481 0Z\" p-id=\"2015\"></path><path d=\"M775.592746 615.292486m-51.194241 0a51.194241 51.194241 0 1 0 102.388481 0 51.194241 51.194241 0 1 0-102.388481 0Z\" p-id=\"2016\"></path></svg>\n          </div>\n          <div class=\"box able\" :title=\"ctrXbim.showClipping?'隐藏剖面':'显示剖面'\" @click=\"toggleClippingPlane\" >\n            <svg t=\"1629252202704\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"10147\" width=\"200\" height=\"200\"><path d=\"M394.667 560.64v-97.28l68.693-68.693h79.787l75.627-162.133h-304.32l-279.253 279.253 279.253 279.68h10.88l1.707 60.053 31.147-60.053 85.013-182.4zM988.8 511.787l-279.253-279.253h-7.36l-9.813-60.8-26.56 60.8-85.013 182.4 48.533 48.427v97.28l-68.693 68.693h-79.787l-75.627 162.133h304.32z\" p-id=\"10148\"></path></svg>\n          </div>\n        </div>\n        <el-slider\n          v-if=\"ctrXbim.changeClippingPrg\"\n          @input=\"changeClipPrg\"\n          :show-tooltip=\"false\"\n          class=\"mgTop8\"\n          v-model=\"progress\"\n          :step=\".01\"\n        ></el-slider>\n      </el-card>\n      <!-- <div v-if=\"ctrXbim.flagClipping\">\n        <el-button @click=\"resetPlane\">清除切面</el-button>\n        <el-button\n          @click=\"toggleCreateClip(true)\"\n          :disabled=\"ctrXbim.clippingPlanes.length>=2\"\n        >创建新切面</el-button>\n        <el-button @click=\"toggleClippingPlane\">{{ctrXbim.showClipping?'隐藏':'显示'}}剖面</el-button>\n        <el-slider\n          v-if=\"ctrXbim.changeClippingPrg\"\n          @input=\"changeClipPrg\"\n          :show-tooltip=\"false\"\n          class=\"mgTop8\"\n          v-model=\"progress\"\n          :step=\".01\"\n        ></el-slider>\n      </div> -->\n      <!-- 信息面板 -->\n      <el-card v-if=\"Attribute_details\" shadow=\"always\"  v-loading=\"loadingDetail\" element-loading-text=\"加载属性中\" element-loading-spinner=\"el-icon-loading\" element-loading-background=\"rgba(0, 0, 0, 0)\" class=\"box-card\">\n        <template #header>\n          <div class=\"card-header\">\n            <span>信息面板</span>\n            <el-button type=\"text\" @click=\"remove\">\n              <i style=\"font-size: 20px\" class=\"el-icon-close\" />\n            </el-button>\n          </div>\n        </template>\n        <el-scrollbar max-height=\"500px\">\n          <div v-if=\"Object.keys(this.detailData).length === 0\" class=\"Not_yet\">\n            <svg t=\"1628845369151\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3049\" width=\"200\" height=\"200\"><path d=\"M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m0 960C265.6 960 64 758.4 64 512S265.6 64 512 64s448 201.6 448 448-201.6 448-448 448z\" fill=\"\" p-id=\"3050\"></path><path d=\"M512 800m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z\" fill=\"\" p-id=\"3051\"></path><path d=\"M553.6 672h-83.2L448 160h128z\" fill=\"\" p-id=\"3052\"></path></svg>\n            暂无属性，请选择一个构件/零件\n          </div>\n          <tr class=\"title\" v-for=\"(val,key) in detailData\" :key=\"key\">\n            <td class=\"key\">{{key}}</td>\n            <td class=\"val\">{{val}}</td>\n          </tr>\n        </el-scrollbar>\n      </el-card>\n      <!-- 颜色信息面板 -->\n      <el-card v-if=\"Modeflag\" class=\"box-card colorbox\">\n        <template #header>\n          <div class=\"card-header\">\n            <span>颜色面板</span>\n          </div>\n        </template>\n        <div class=\"item\">\n          <div style=\"width: 25px;height: 25px;background: #f52443;\"></div><span class=\"text\">运输中</span>\n        </div>\n        <div class=\"item\">\n          <div style=\"width: 25px;height: 25px;background: #f08300;\"></div><span class=\"text\">加工中</span>\n        </div>\n        <div class=\"item\">\n          <div style=\"width: 25px;height: 25px;background: #ffff24;\"></div><span class=\"text\">安装中</span>\n        </div>\n        <div class=\"item\">\n          <div style=\"width: 25px;height: 25px;background: #02b340;\"></div><span class=\"text\">未开始</span>\n        </div>\n        <div class=\"item\">\n          <div style=\"width: 25px;height: 25px;background: #79d2d2;\"></div><span class=\"text\">加工完成</span>\n        </div>\n        <div class=\"item\">\n          <div style=\"width: 25px;height: 25px;background: #2e62cd;\"></div><span class=\"text\">安装完成</span>\n        </div>\n        <div class=\"item\">\n          <div style=\"width: 25px;height: 25px;background: #cc99ff;\"></div><span class=\"text\">运输完成</span>\n        </div>\n      </el-card>\n    </div>\n    <div class=\"wrap-mark\" v-if=\"ctrXbim.flagMark\" :style=\"style\"></div>\n    <canvas id=\"xBIM-viewer\" ref=\"canvas\"></canvas>\n    <!-- <canvas id=\"canvas\" ref=\"canvas1\" width=\"2000\" height=\"300\"></canvas> -->\n\n    <div id=\"divcontainer\">\n      <div id=\"aaa\"></div>\n    </div>\n    <tree\n      ref=\"tree\"\n      @hideItems=\"hideItems\"\n      :treeList=\"dataTree\"\n      :displayflag=\"flag\"\n      @selInModel=\"selInModel\"\n      @doLookAt=\"doLookAt\"\n      @getDetailInfo=\"getDetailInfo\"\n    >\n      <!-- <el-row class=\"mgTop8\">\n        <el-col :span=\"6\">\n          <el-button @click=\"printData\">打印数据</el-button>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-button\n            @click=\"toggleMeasure\"\n            :type=\"ctrXbim.flagMeasuring?'success':'default'\"\n          >{{!ctrXbim.flagMeasuring?'测距模式':'退出测距'}}</el-button>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-button\n            @click=\"toggleClipping\"\n            :type=\"ctrXbim.flagClipping?'success':'default'\"\n          >{{!ctrXbim.flagClipping?'剖切模式':'退出剖切'}}</el-button>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-button @click=\"toggleRotate\">{{!ctrXbim.flagRotate?'旋转预览':'停止旋转'}}</el-button>\n        </el-col>\n      </el-row>\n      <el-row class=\"mgTop8\">\n        <el-col :span=\"6\">\n          <el-button\n            @click=\"toggleWalking\"\n            :type=\"ctrXbim.flagWalking?'success':'default'\"\n          >{{ctrXbim.flagWalking?'退出漫游':'进入漫游'}}</el-button>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-button\n            @click=\"toggleMarking\"\n            :type=\"ctrXbim.flagMarking?'success':'default'\"\n          >{{ctrXbim.flagMarking?'退出标记':'标记模式'}}</el-button>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-button @click=\"clearMarking\" type=\"danger\">清空标记</el-button>\n        </el-col>\n      </el-row> -->\n    </tree>\n\n    <div class=\"tip-walk\" v-if=\"ctrXbim.flagWalking\">长按键盘WASD进行漫游操作</div>\n    <div class=\"mask\" v-if=\"loading\">\n      <div class=\"prg\">\n        <p>模型载入中...请稍后...</p>\n      </div>\n    </div>\n    <!-- 工具栏 -->\n    <div class=\"toolbar\">\n      <div class=\"bf-button gld_mode\" style=\"\" :title=\"Modeflag?'状态模式':'默认模式'\" @click=\"toggleChange\">\n        <svg t=\"1629422901429\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2147\" width=\"200\" height=\"200\"><path d=\"M393.846154 78.769231v866.461538H78.769231V78.769231h315.076923m78.769231-78.769231H0v1024h472.615385V0zM945.230769 78.769231v315.076923h-315.076923V78.769231h315.076923m78.769231-78.769231H551.384615v472.615385h472.615385V0zM945.230769 630.153846v315.076923h-315.076923v-315.076923h315.076923m78.769231-78.769231H551.384615v472.615385h472.615385V551.384615z\" p-id=\"2148\"></path></svg>\n      </div>\n      <div class=\"bf-button gld_measure\" style=\"\" :title=\"ctrXbim.flagMeasuring?'退出测量模式':'测量模式'\" @click=\"toggleMeasure\">\n        <svg t=\"1628839845215\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1513\" width=\"200\" height=\"200\"><path d=\"M294.8 22.8L23.2 294.3c-12.5 12.5-12.5 32.8 0 45.3l656.2 656.2c12.5 12.5 32.8 12.5 45.3 0l271.5-271.5c12.5-12.5 12.5-32.8 0-45.3L340 22.8c-12.5-12.5-32.8-12.5-45.2 0z m-198 288.5l215-215c3.1-3.1 8.2-3.1 11.3 0l33.9 33.9c3.1 3.1 3.1 8.2 0 11.3l-96.2 96.2 45.3 45.3 96.2-96.2c3.1-3.1 8.2-3.1 11.3 0l22.4 22.4c3.1 3.1 3.1 8.2 0 11.3l-62.2 62.2L419 328l62.2-62.2c3.1-3.1 8.2-3.1 11.3 0l22.4 22.4c3.1 3.1 3.1 8.2 0 11.3l-62.2 62.2L498 407l62.2-62.2c3.1-3.1 8.2-3.1 11.3 0l23.1 23.1c3.1 3.1 3.1 8.2 0 11.3l-96.2 96.2 45.3 45.3 96.2-96.2c3.1-3.1 8.2-3.1 11.3 0l22.4 22.4c3.1 3.1 3.1 8.2 0 11.3l-62.2 62.2 45.3 45.3 62.2-62.2c3.1-3.1 8.2-3.1 11.3 0l22.4 22.4c3.1 3.1 3.1 8.2 0 11.3l-62.2 62.2 45.3 45.3 62.2-62.2c3.1-3.1 8.2-3.1 11.3 0l23.1 23.1c3.1 3.1 3.1 8.2 0 11.3l-96.3 96 45.3 45.3 96.2-96.2c3.1-3.1 8.2-3.1 11.3 0l33.9 33.9c3.1 3.1 3.1 8.2 0 11.3l-215 215c-3.1 3.1-8.2 3.1-11.3 0L96.8 322.6a7.85 7.85 0 0 1 0-11.3z\" p-id=\"1514\"></path></svg>\n      </div>\n      <div class=\"bf-button gld_Sectioning\" :title=\"ctrXbim.flagClipping?'退出剖切':'剖切模式'\" @click=\"toggleClipping\">\n        <svg t=\"1628840033569\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2756\" width=\"200\" height=\"200\"><path d=\"M605.440831 444.871267a32.779988 32.779988 0 0 1-12.784195-2.762885L191.757381 249.783509a30.157589 30.157589 0 0 1 0-54.508437L528.033231 2.90337a30.719532 30.719532 0 0 1 26.130333 0l393.219372 192.371702a29.548818 29.548818 0 0 1 16.670965 27.254219 30.532217 30.532217 0 0 1-16.670965 27.254218l-328.595967 191.997074a29.595646 29.595646 0 0 1-13.346138 3.324827zM274.597094 222.529291l330.796909 158.467828L865.198823 222.529291l-324.240911-158.467829z\" p-id=\"2757\"></path><path d=\"M605.440831 843.56958a32.779988 32.779988 0 0 1-12.784195-2.762885l-400.852426-192.371702a30.157589 30.157589 0 0 1 0-54.508437L528.033231 401.554854a30.719532 30.719532 0 0 1 26.130333 0l393.078886 192.371702a29.548818 29.548818 0 0 1 16.670965 27.254219 30.532217 30.532217 0 0 1-16.670965 27.254218l-328.595966 191.997074c-4.448713 2.200942-73.380345 3.324827-77.829058 3.324827z m-328.595966-222.388805l328.595966 158.467828L865.198823 621.180775l-324.240911-158.467829z\" p-id=\"2758\"></path><path d=\"M605.440831 845.81735a38.2121 38.2121 0 0 1-13.346138-2.762884l-395.326656-192.418531A30.344903 30.344903 0 1 1 223.647627 596.174327L605.440831 782.036859l315.249829-185.722047a30.344903 30.344903 0 0 1 26.692276 54.508438L618.786969 842.91398a28.84639 28.84639 0 0 1-13.346138 2.762885z\" p-id=\"2759\"></path><path d=\"M934.036798 645.110166a29.876618 29.876618 0 0 1-30.017104-30.017103V227.539946a30.017103 30.017103 0 0 1 60.034207 0v386.991174a30.017103 30.017103 0 0 1-30.017103 30.579046z m-732.820049 3.324827a29.876618 29.876618 0 0 1-30.017103-30.017103V227.539946a30.017103 30.017103 0 0 1 60.034207 0v390.877944a29.876618 29.876618 0 0 1-30.017104 30.017103zM90.045761 713.479855a29.876618 29.876618 0 0 1-30.017103-30.017103V292.584808a30.017103 30.017103 0 1 1 60.034206 0v390.877944a29.876618 29.876618 0 0 1-30.017103 30.017103z\" p-id=\"2760\"></path><path d=\"M90.045761 469.971372a29.876618 29.876618 0 0 1-30.063932-30.017103V49.076325a30.017103 30.017103 0 1 1 60.034207 0v390.877944a30.251246 30.251246 0 0 1-30.017104 30.017103zM62.791542 674.331184a30.43856 30.43856 0 0 1 40.600357-14.048566l350.83953 171.813966a30.344903 30.344903 0 1 1-26.692276 54.508437L76.699623 715.165683a30.43856 30.43856 0 0 1-14.048566-40.600356z\" p-id=\"2761\"></path><path d=\"M337.441014 808.541821a30.43856 30.43856 0 0 1 40.600357-14.048566l350.83953 171.813966a30.344903 30.344903 0 0 1-26.692276 54.508437l-350.83953-171.67348a30.43856 30.43856 0 0 1-14.048567-40.600357zM62.791542 29.033704a30.43856 30.43856 0 0 1 40.600357-14.048567l350.792701 171.954452a30.344903 30.344903 0 1 1-26.692276 54.508438L76.699623 69.63406A30.625875 30.625875 0 0 1 62.791542 29.033704z\" p-id=\"2762\"></path><path d=\"M337.441014 163.057027a30.43856 30.43856 0 0 1 40.600357-14.048567l350.83953 171.813966a30.344903 30.344903 0 0 1-26.692276 54.508438L351.349095 203.095441a29.829789 29.829789 0 0 1-14.048567-40.038414z m378.093749 856.962546a29.876618 29.876618 0 0 1-30.017104-30.017104V598.937211a30.017103 30.017103 0 1 1 60.034207 0v390.877944a29.876618 29.876618 0 0 1-30.204418 30.017104z\" p-id=\"2763\"></path><path d=\"M715.347448 791.870856a29.876618 29.876618 0 0 1-30.017103-30.017104V370.975808a30.017103 30.017103 0 1 1 60.034207 0v390.877944a30.251246 30.251246 0 0 1-30.017104 30.017104z m-84.291398-374.628436l4.448713 390.877944-60.596149 0.561943L570.17893 417.710706z\" p-id=\"2764\"></path><path d=\"M566.526302 26.832762l4.448713 390.877944-60.596149 0.561942-4.448713-390.877944z\" p-id=\"2765\"></path></svg>\n      </div>\n      <div class=\"bf-button gld_rotate\" :title=\"ctrXbim.flagRotate?'停止旋转':'旋转预览'\" @click=\"toggleRotate\">\n        <svg t=\"1628840249030\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3782\" width=\"200\" height=\"200\"><path d=\"M164.778667 263.978667a425.258667 425.258667 0 0 1 236.8-164.096C629.162667 38.826667 863.146667 173.952 924.117333 401.493333c61.013333 227.626667-74.069333 461.610667-301.653333 522.581334C394.794667 985.173333 160.853333 850.048 99.84 622.506667l82.432-22.101334a341.333333 341.333333 0 1 0 54.570667-290.432l80.384 51.2-182.912 54.101334L85.333333 213.333333l79.445334 50.645334z\" p-id=\"3783\"></path><path d=\"M512 512m-85.333333 0a85.333333 85.333333 0 1 0 170.666666 0 85.333333 85.333333 0 1 0-170.666666 0Z\" p-id=\"3784\"></path></svg>\n      </div>\n      <div class=\"bf-button gld_roam\" :title=\"ctrXbim.flagWalking?'退出漫游':'进入漫游'\" @click=\"toggleWalking\">\n        <svg t=\"1628840315795\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"4233\" width=\"200\" height=\"200\"><path d=\"M512 269.27407445c72.81777778 0 131.072-53.39970333 131.072-121.36296334S584.81777778 26.54814777 512 26.54814777 380.928 79.94785223 380.928 147.91111111 439.18222222 269.27407445 512 269.27407445z m165.05363001 116.50844445c-4.8545189-29.12711111-29.12711111-53.39970333-63.10874112-53.39970447h-33.98163001c-9.70903666 0-14.56355555 4.8545189-24.27259221 9.7090378l-43.69066667 33.98162887-43.69066667-38.83614777c-4.8545189-4.8545189-14.56355555-9.70903666-24.27259221-9.70903666h-33.98163001c-33.98163001 0-63.10874112 24.27259221-63.10874112 53.39970333L317.81925888 599.38133333c0 9.70903666 0 19.41807445 9.70903779 24.27259222 4.8545189 4.8545189 14.56355555 9.70903666 24.27259222 9.70903779h33.98163001l29.12711111 310.68918443c4.8545189 29.12711111 29.12711111 53.39970333 63.10873998 53.39970446h72.81777778c33.98163001 0 63.10874112-24.27259221 63.10874112-53.39970446l29.12711111-310.68918443h33.98163001c9.70903666 0 19.41807445-4.8545189 24.27259221-9.70903779 4.8545189-9.70903666 4.8545189-14.56355555 4.8545189-24.27259222l-29.12711111-213.59881443z\" p-id=\"4234\"></path></svg>\n      </div>\n      <div class=\"bf-button\" title='标记' @mouseover=\"Markingnter\" @mouseout=\"Markingout\">\n        <svg  t=\"1628840461855\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5529\" width=\"200\" height=\"200\"><path d=\"M184 102.5l65.155-20.597a389.5 389.5 0 0 1 162.65-15.187 195.17 195.17 0 0 1 65.878 20.11l102.976 52.382c71.798 36.284 156.398 37.06 228.85 2.097l59.438-28.868a24.674 24.674 0 0 1 35.456 22.206v446.052a24.674 24.674 0 0 1-13.891 22.207l-60.031 29.152a308.089 308.089 0 0 1-133.942 30.793h-2.183a308.015 308.015 0 0 1-135.632-32.767L452.726 576.66a146.29 146.29 0 0 0-49.089-14.804 340.337 340.337 0 0 0-143.009 13.755L184 600.211V928c0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32V96c0-17.673 14.327-32 32-32 17.673 0 32 14.327 32 32v6.5z m0 65.118v377.608l73.053-23.46a372.993 372.993 0 0 1 113.2-17.646 378.17 378.17 0 0 1 43.563 2.53 187.192 187.192 0 0 1 62.844 18.98l101.516 51.163a247.506 247.506 0 0 0 218.32 1.596l44.188-21.475v-374.77L817.715 193.3a295.031 295.031 0 0 1-130.9 29.488 294.892 294.892 0 0 1-130.332-31.91l-98.62-50.183a139.8 139.8 0 0 0-47.131-14.419 325.873 325.873 0 0 0-136.122 12.706L184 167.618z\" p-id=\"5530\"></path></svg>\n        <div class=\"remove_toolbar hidden\">\n          <!-- 标记 -->\n          <div class=\"bf-button gld_sign\" :title=\"ctrXbim.flagMarking?'退出标记':'标记模式'\" @click=\"toggleMarking\">\n            <svg t=\"1629076450923\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1905\" width=\"200\" height=\"200\"><path d=\"M957.6 507.4L603.2 158.2c-3.1-3.1-8.1-3.1-11.2 0L353.3 393.4c-3.1 3.1-3.2 8.2-0.1 11.3l0.1 0.1 40 39.4-117.2 115.3c-3.1 3.1-3.2 8.2-0.1 11.3l0.1 0.1 39.5 38.9-189.1 187H72.1c-4.4 0-8.1 3.6-8.1 8V860c0 4.4 3.6 8 8 8h344.9c2.1 0 4.1-0.8 5.6-2.3l76.1-75.6 40.4 39.8c3.1 3.1 8.1 3.1 11.2 0l117.1-115.6 40.1 39.5c3.1 3.1 8.1 3.1 11.2 0l238.7-235.2c3.4-3 3.4-8 0.3-11.2zM389.8 796.2H229.6l134.4-133 80.1 78.9-54.3 54.1z m154.8-62.1L373.2 565.2l68.6-67.6 171.4 168.9-68.6 67.6zM713.1 658L450.3 399.1 597.6 254l262.8 259-147.3 145z\" p-id=\"1906\"></path></svg>\n          </div>\n          <!-- 清空标记 -->\n          <div class=\"bf-button gld_remove\" title=\"清空标记\" @click=\"clearMarking\">\n            <svg t=\"1628846031694\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3884\" width=\"200\" height=\"200\"><path d=\"M876.564398 512.149985h30.697002c7.699248 0 15.398496 0 22.997754-2.599746 33.296748-8.999121 46.095498-43.495752 37.096378-104.889757-3.799629-28.197246-24.297627-46.095498-54.99463-46.095498H614.290011v-24.297627c0-65.293624-3.799629-130.487257 0-195.780881C616.889757 75.792598 589.992384 18.198223 537.49751 2.899717c-15.398496-3.799629-38.39625-3.799629-51.195 0C458.105263 13.098721 421.008886 39.996094 413.409628 79.692218c-2.599746 12.79875-3.799629 24.297627-3.799629 35.796504v243.076262H113.938873c-40.896006 0-60.094131 19.198125-60.094131 61.394004v7.699249c0 72.892882 7.699248 80.59213 80.592129 84.491748 2.599746 0 6.399375 1.299873 10.199004 1.299873-28.197246 145.885753-56.294502 290.471634-86.991504 435.057514-7.699248 35.796504 0 62.693878 30.697002 75.492628h844.417537c29.397129-12.79875 38.39625-38.39625 31.996876-72.892882-30.597012-145.985744-58.794258-290.571624-88.191388-438.957133zM509.300264 54.094717c31.996875 0 52.494874 22.997754 52.494873 61.394005 0 74.192755 1.299873 147.185626 1.299873 221.378381v21.797871H459.405136V115.488722c0-37.096377 19.198125-60.194122 49.895128-61.394005zM102.439996 460.954985v-51.195001h818.820037V460.954985H102.439996z m200.880383 511.750024c8.999121-63.993751 17.898252-133.087003 26.897373-199.580509 1.299873-11.498877 2.599746-21.797871 3.799629-31.996876 1.299873-15.398496-3.799629-28.197246-19.198125-30.697002-17.898252-2.599746-28.197246 6.399375-30.697002 22.997754-6.399375 42.195879-11.498877 83.191876-17.898252 125.387755-3.799629 37.096377-8.999121 75.492628-14.098624 113.888878H103.739869c33.296748-153.585001 66.493506-307.070013 101.090128-460.655014h610.340397c33.296748 153.585001 66.493506 307.070013 101.090127 460.655014h-612.940142z\" p-id=\"3885\"></path></svg>\n          </div>\n        </div>\n      </div>\n      <div class=\"bf-button gld_details\" :title=\"Attribute_details?'退出详情':'信息详情'\" @click=\"toggleDetails\">\n        <svg t=\"1628842947918\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1905\" width=\"200\" height=\"200\"><path d=\"M896.174 63.868l-832.162 0.078v831.693h384.075V831.72l-320.062 0.044-0.035-703.774h704.171v320.218h64.012V63.868z\" p-id=\"1906\"></path><path d=\"M192.08 319.871h384.075v-63.919H192.08v63.919z m0 127.768l320.062 0.069V383.79H192.08v63.849z m0 128.317h192.037v-63.891l-192.037-0.028v63.919z m0 0M705.643 895.619C595.51 897.227 513.32 802.618 513.32 703.408c0-113.439 91.234-192.041 192.323-192.041 118.069 0 192.887 99.598 192.323 192.041-0.633 103.519-81.629 189.647-192.323 192.211z m0-320.238c-72.702 0-128.215 55.33-128.215 128.027 0 72.699 55.514 128.027 128.215 128.027s128.215-55.328 128.215-128.027c0-72.697-55.514-128.027-128.215-128.027z\" p-id=\"1907\"></path><path d=\"M922.723 959.71L801.836 838.828l36.688-36.685 121.7 121.694\" p-id=\"1908\"></path></svg>\n      </div>\n      <div class=\"bf-button gld_flag\" :title=\"flag?'隐藏选中':'显示选中'\" @click=\"toggleflag\">\n        <svg v-if=\"flag===false\" t=\"1629076892265\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2081\" width=\"200\" height=\"200\"><path d=\"M512 895.581091c-284.811636 0-465.454545-264.424727-465.454545-376.040727v-13.218909c0-111.616 180.642909-376.087273 465.454545-376.087273 287.604364 0 464.477091 260.794182 465.454545 375.482182v13.777454c-0.977455 115.153455-177.803636 376.087273-465.454545 376.087273z m0-695.482182c-240.221091 0-395.636364 227.560727-395.636364 306.269091v13.218909c0 78.708364 155.415273 306.222545 395.636364 306.222546 236.404364 0 394.845091-218.158545 395.636364-306.501819v-13.218909c-0.791273-88.064-159.232-305.989818-395.636364-305.989818z m0 495.709091a183.109818 183.109818 0 0 1-182.923636-182.877091c0-100.864 82.059636-182.923636 182.923636-182.923636s182.923636 82.059636 182.923636 182.923636A183.109818 183.109818 0 0 1 512 695.808z m0-295.982545c-62.370909 0-113.105455 50.734545-113.105455 113.105454 0 62.324364 50.734545 113.058909 113.105455 113.058909s113.105455-50.734545 113.105455-113.058909c0-62.370909-50.734545-113.105455-113.105455-113.105454z\" p-id=\"2082\"></path></svg>\n        <svg v-else t=\"1629081891396\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3053\" width=\"200\" height=\"200\"><path d=\"M944.1 462.9c-0.2-0.1-0.4-0.2-0.5-0.4-3.7-2.8-17-12.8-34.4-24.8-1.6-1.1-2-2.7-2-3.5-0.1-0.8 0-2.3 1.4-3.7 13.5-13 26.6-26.6 39-40.6 0.6-0.6 1-1.2 1.5-1.8 12.5-16.6 13-39.2 1.2-56.3-2-2.9-4.4-5.4-7.2-7.3-5.4-3.8-11.7-5.2-18-4.2-12 1.9-20.8 12.1-26.4 19.7-46.3 58.6-205.3 210.2-385.6 210.3-48-0.5-95.1-8.9-140.1-25l-39.7-16.1c-37.8-17.1-74-38-107.5-62.2l-28.1-21.1c-25.5-19.6-49.1-41.8-70-66-0.7-0.8-1.4-1.6-2.2-2.3l-1.8-1.7c-6.2-5.8-11.5-10.8-17.8-13.5-5.3-2.3-15.8-4.6-26.6 5-19 17-14.2 41.3-3.3 58.4 1.1 1.7 2.4 3.3 3.8 4.8 15.9 16 32.7 31.5 50.1 46 1.5 1.3 1.7 2.9 1.7 3.7 0 0.8-0.3 2.4-2 3.6-12.7 9-22.1 15.9-24.7 17.8-0.1 0-0.2 0.1-0.7 0.4-7.8 4.5-13.3 11.7-15.5 20.2-2.4 8.9-0.8 18.4 4.3 26.1 9.5 15.5 29.7 20.8 46 12.1 5.6-3 11.8-7.6 20.5-14 7.4-5.5 16.6-12.3 28.2-20.1 1.7-1.2 4-1.1 5.8 0.1 28.8 19.9 59.4 37.9 90.8 53.6 1.6 0.8 2.3 2.2 2.5 2.9 0.2 0.7 0.5 2.1-0.4 3.6l-28.7 48.3c-4.6 7.6-5.8 16.6-3.5 25.1 2.3 8.6 7.9 15.8 15.9 20.3l0.2 0.1c16.2 8.9 37 3.5 46.5-12l32.9-56.2c1.2-2.1 3.8-2.9 6.1-2.1 38.2 14 78.1 23.2 118.7 27.4 2.6 0.3 4.5 2.3 4.5 4.7V671c0 18.3 15.4 33.3 34.3 33.3s34.3-14.9 34.3-33.3v-49.6c0-2.4 1.9-4.4 4.5-4.7 40.1-4.2 79.5-13.7 117-28.2 2.3-0.9 5 0 6.2 2l34.2 58.5 0.1 0.1c9.5 15.7 29.7 21.1 46.1 12.4l0.3-0.2c7.9-4.5 13.5-11.7 15.8-20.3 2.3-8.5 1.1-17.4-3.5-25L737 562.4c-1.3-2.2-0.5-5.1 1.9-6.4 38.7-21.1 75.7-45.8 110-73.3 1.7-1.4 4.2-1.5 6-0.3 25.1 16.5 45.5 31.2 51.1 35.4 1.9 1.4 3.8 2.5 5.8 3.3 15.9 6.7 34.5 0.9 43.3-13.6 9.2-15.3 4.4-34.9-11-44.6z\" p-id=\"3054\"></path></svg>\n      </div>\n      <div class=\"bf-button gld_details\" :title=\"camera?'透视相机':'正交相机'\" @click=\"cameraChange\">\n        <svg t=\"1630378276365\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2421\" width=\"200\" height=\"200\"><path d=\"M918.266075 186.599512h-27.419435v-52.133253c0-34.999049-28.362921-63.376296-63.36197-63.376296H617.628525c-34.999049 0-63.36197 28.376224-63.36197 63.376296v52.133253H105.754391c-54.465364 0-98.777503 44.313163-98.777503 98.770341v459.460494c0 54.457177 44.313163 98.757037 98.777503 98.757038h183.51425c51.647184 66.461558 132.248759 109.323676 222.740569 109.323675 90.486693 0 171.109757-42.862118 222.748755-109.323675h183.50811c54.4582 0 98.757037-44.29986 98.757037-98.757038V285.369853c0-54.457177-44.298837-98.77034-98.757037-98.770341z m-300.63755-52.133253H827.48467v52.133253H617.628525v-52.133253zM512.00921 889.533741c-120.588208 0-218.704657-98.108262-218.704657-218.689307 0-120.597418 98.116449-218.692377 218.704657-218.692377 120.597418 0 218.70568 98.094959 218.70568 218.692377 0 120.581045-98.108262 218.689307-218.70568 218.689307z m406.256865-109.30935H771.997026c14.231091-33.66159 22.093137-70.619243 22.093137-109.379957 0-155.540185-126.527465-282.068673-282.080953-282.068674-155.530975 0-282.072767 126.527465-282.072767 282.068674 0 38.760715 7.869209 75.718368 22.078811 109.379957h-146.260863c-19.507247 0-35.401207-15.892937-35.401207-35.394044v-402.649718h652.216205c11.665667 0 21.122021-9.441004 21.122021-21.106671 0-11.666691-9.45533-21.135324-21.122021-21.135324H70.353184v-14.568781c0-19.528736 15.892937-35.394044 35.401207-35.394045h812.511684c19.51441 0 35.379718 15.865308 35.379718 35.394045v14.568781H841.292113c-11.665667 0-21.120998 9.468633-21.120997 21.135324 0 11.665667 9.454307 21.106671 21.120997 21.106671h112.35368v402.648695c0 19.501107-15.865308 35.395067-35.379718 35.395067z\" p-id=\"2422\"></path><path d=\"M661.363521 609.60889c-4.424767-10.792789-16.766839-15.935916-27.560651-11.526498-10.792789 4.424767-15.964568 16.766839-11.538778 27.546324 5.875812 14.356957 8.861814 29.560187 8.861814 45.215718 0 65.672591-53.42978 119.101347-119.116696 119.101347-65.679754 0-119.122836-53.428756-119.122837-119.101347 0-65.68794 53.444106-119.116697 119.122837-119.116697 16.091458 0 31.674333 3.141544 46.356701 9.341744 10.736507 4.563937 23.15021-0.493233 27.700844-11.244066 4.523004-10.750833-0.506536-23.13486-11.258393-27.672191-19.908382-8.412583-41.042683-12.667482-62.799152-12.667482-88.977319 0-161.357669 72.366023-161.357669 161.359715 0 88.977319 72.379326 161.370972 161.357669 161.370972 88.979366 0 161.358692-72.393652 161.358692-161.370972 0-21.193652-4.028748-41.792765-12.004381-61.236567z\" p-id=\"2423\"></path><path d=\"M512.00921 612.975561c-31.955742 0-57.881153 25.897782-57.881153 57.868873 0 31.955742 25.925411 57.8525 57.881153 57.8525 31.956765 0 57.882176-25.897782 57.882176-57.8525 0.001023-31.971092-25.925411-57.868873-57.882176-57.868873z\" p-id=\"2424\"></path></svg>\n      </div>\n      <div class=\"bf-button gld_details\" :title=\"!isFullscreen?'全屏':'退出全屏'\" @click=\"isScreenFull\">\n        <svg v-if=\"!isFullscreen\" t=\"1629082755184\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3877\" width=\"200\" height=\"200\"><path d=\"M628.053333 628.053333a32 32 0 0 1 45.226667 0l158.72 158.634667V693.333333l0.298667-4.352A32 32 0 0 1 896 693.333333v181.333334l-0.341333 3.84a21.333333 21.333333 0 0 1-20.992 17.493333h-181.333334l-4.352-0.298667a32 32 0 0 1-27.648-31.701333l0.298667-4.352a32 32 0 0 1 31.701333-27.648h93.44l-158.72-158.72-3.114666-3.584a32 32 0 0 1 3.114666-41.642667z m-232.106666 0a32 32 0 0 1 3.114666 41.642667l-3.114666 3.584-158.72 158.72h93.44a32 32 0 0 1 31.701333 27.648l0.298667 4.352a32 32 0 0 1-27.648 31.701333L330.666667 896H149.333333a21.333333 21.333333 0 0 1-20.992-17.493333L128 874.666667v-181.333334a32 32 0 0 1 63.701333-4.352l0.298667 4.352v93.354667l158.72-158.634667a32 32 0 0 1 45.226667 0zM874.666667 128a21.333333 21.333333 0 0 1 20.992 17.493333L896 149.333333v181.333334a32 32 0 0 1-63.701333 4.352L832 330.666667V237.312L673.28 395.946667a32 32 0 0 1-48.341333-41.642667l3.114666-3.584 158.72-158.72h-93.44a32 32 0 0 1-31.701333-27.648L661.333333 160a32 32 0 0 1 27.648-31.701333L693.333333 128h181.333334zM330.666667 128l4.352 0.298667a32 32 0 0 1 27.648 31.701333l-0.298667 4.352a32 32 0 0 1-31.701333 27.648H237.226667l158.72 158.72 3.114666 3.584a32 32 0 0 1-48.341333 41.642667L192 237.312V330.666667l-0.298667 4.352A32 32 0 0 1 128 330.666667V149.333333l0.341333-3.84A21.333333 21.333333 0 0 1 149.333333 128h181.333334z\" p-id=\"3878\"></path></svg>\n        <svg v-else t=\"1629084013198\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2512\" width=\"200\" height=\"200\"><path d=\"M749.248 704H864a32 32 0 1 0 0-64H672a32 32 0 0 0-32 32v192a32 32 0 1 0 64 0v-114.752l137.36 137.36a32 32 0 1 0 45.232-45.264L749.248 704zM320 749.248V864a32 32 0 1 0 64 0V672a32 32 0 0 0-32-32H160a32 32 0 1 0 0 64h114.752l-137.36 137.36a32 32 0 1 0 45.264 45.232L320 749.248zM749.248 320H864a32 32 0 1 1 0 64H672a32 32 0 0 1-32-32V160a32 32 0 1 1 64 0v114.752l137.36-137.36a32 32 0 1 1 45.232 45.264L749.248 320zM320 274.752V160a32 32 0 1 1 64 0v192a32 32 0 0 1-32 32H160a32 32 0 1 1 0-64h114.752l-137.36-137.36a32 32 0 1 1 45.264-45.232L320 274.752z\" p-id=\"2513\"></path></svg>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport \"./font/iconfont\";\nimport \"./font/iconfont.css\";\nimport \"./index.scss\";\nimport { Options, Vue } from \"vue-class-component\";\nimport axios from \"axios\";\nimport { mapState, mapActions, mapMutations } from \"vuex\";\nimport XbimCenter from \"./XbimCenter\";\nimport Tree from \"./plugins/Tree.vue\";\nimport { ElMessage } from 'element-plus'\nimport screenfull from \"screenfull\";\nimport _ from \"lodash\"\n@Options({\n  components: { Tree },\n  props: {\n    config: {\n      type: Array,\n      default() {\n        return [];\n      }\n    }\n  },\n  computed: {\n    ...mapState([])\n  },\n  watch: {\n    flagMeasuring(flag) {\n      if (!flag) {\n        this.clearMeasure();\n      }\n    },\n    flagClipping(flag) {\n      if (!flag) {\n        this.resetPlane();\n      }\n    }\n  }\n})\nexport default class xBim extends Vue {\n  loadingDetail = false;\n  // 完成接口传输赋值\n  prodDataLoaded(data: any) {\n    this.loadingDetail = false;\n    this.detailData = data;\n  }\n  getDetailInfo(data: any) {\n    console.log(data);\n    let id = data.parId;\n    // fromModelClick 是否是从点击3d模型来的，点击3d模型返回的一定是零件id\n    if (data.fromModelClick) {\n      // 如果是零件，通过接口获取详细信息\n      this.loadingDetail = true;\n      if (data.id) {\n        axios({\n          url: 'http://192.168.0.117:9001/bimwebservice/ifcfile/select/structure',\n          method: \"post\",\n          headers: {\n            accessToken: this.token\n          },\n          data: {\n            filePath: 'http://192.168.0.117:9002//2020SJ036 杭政储出[2020]18号地块商品住宅4#楼\\\\三维模型管理\\\\模型1\\\\sushelou.ifc',\n            fileid: '3108',\n            label: data.id,\n            type: 0\n          }\n        }).then(res => {\n          if (res.data.code===0) {\n            // console.log(res.data.data);\n            this.prodDataLoaded(JSON.parse(res.data.data));\n          }\n        })\n        this.sendMsgToPar(\"loadProdData\", {\n          id: data.id\n        });\n      }\n    } else {\n      // 否则直接从json将数据渲染\n      let detailData: any = {};\n      for (let key in data) {\n        if (key != \"parts\") {\n          // 过滤零件列表\n          detailData[key] = data[key];\n        }\n      }\n      this.detailData = detailData;\n    }\n  }\n  changeClipPrg() {\n    this.ctrXbim.moveClippingplane(this.progress);\n  }\n  // 目录树双击方法\n  doLookAt(list: any) {\n    this.ctrXbim.doLookAt(list);\n  }\n  // 目录树单击方法\n  selInModel(list: any[], id: Number) {\n    this.ctrXbim.selectedData = { id: 1, model: 1 };\n    this.ctrXbim.selectedChildren = list;\n    this.ctrXbim.ComponentID = id\n    if (this.Modeflag) {\n      _.forIn(this.stateTree, (value, key) => {                  \n        if (value.includes(id)) {\n          this.ctrXbim.state = key\n          // 更新高亮\n          this.ctrXbim.updateSelHighlight();\n          return false\n        }\n      })\n    } else {\n      this.ctrXbim.updateSelHighlight();\n    }\n  }\n  detailData: any = {};\n\n  checkSelectedProdIds(data: any) {\n    this.getDetailInfo(data);\n  }\n  clearMarking() {\n    this.ctrXbim.ctrMarking.clearAll();\n  }\n  get progress() {\n    return this.ctrXbim.lastPrg;\n  }\n  set progress(val: number) {\n    this.ctrXbim.lastPrg = val;\n  }\n  loading = false;\n  searchKey = \"\";\n  dataTree: any[] = [];\n  style = \"\";\n  selData = {};\n  ctrXbim: XbimCenter = new XbimCenter();\n  selAxis = \"\";\n  Attribute_details = false;\n  flag = true;\n  isFullscreen = false;\n  Modeflag = false\n  colorkey: any[] = []\n  stateUrl= \"\" // 状态接口\n  fid= \"\" // 文件id\n  token= \"\"\n  camera= false\n  stateTree: any[] = []\n  get self() {\n    return this as any;\n  }\n  async mounted() {\n    window.addEventListener(\"message\", this.onParMsg);\n\n    document.addEventListener(\"keydown\", this.onKeyDown);\n    document.addEventListener(\"keyup\", this.onKeyUp);\n    this.onUpdate();\n    this.ctrXbim.init(this.$refs.canvas);\n\n    this.ctrXbim.onUpdateSel = data => {\n      this.checkSelectedProdIds(data);\n    };\n    // 模拟文件\n    let res: any = await this.loadFile(\"/model/臻圆Y01mx.wexbim\");\n    let dataTree: any = await this.loadJson(\"/model/臻圆Y01mx.json\");\n    dataTree.model = res.model;\n    this.dataTree.push(dataTree);\n    this.dataTree = this.dataTree.concat();\n    // 保存json构件树    \n    let newdataTree = _.cloneDeep(this.dataTree[0].children)\n    newdataTree.forEach(item => {\n      return item.parts = item.parts.split(',')\n    })\n    this.ctrXbim.newDataTree = newdataTree;\n    (window as any).doDraw = this.doDraw;\n    (window as any).url = this.getstateurl;\n    (window as any).token = this.gettoken;    \n    this.sendMsgToPar(\"222\", { a: 2 });\n  }\n  // iframe接收接口零件数据\n  onParMsg(event: any) {\n    // console.log('触发了单击')\n    var origin = event.origin;\n    // 验证一次消息来源，也可不加\n    // if (origin !== \"http://example.org:8080\")\n    //   return;\n\n    console.log(event.data, \"eeeeeeeeeee\");\n    try {\n      let data = JSON.parse(event.data);\n      switch (data.type) {        \n        case \"prodDataLoaded\": {\n        console.log(data.type);\n          this.prodDataLoaded(data.data);\n          break;\n        }\n      }\n    } catch (e) {}\n  }\n  sendMsgToPar(type = \"\", data = {}) {\n    window.parent.postMessage(JSON.stringify({ type, data }), \"*\");\n  }\n  lastTime!: number;\n  onUpdate(time?: number) {\n    if (time) {\n      let timeOffset = time - this.lastTime;\n      this.lastTime = time;\n      this.handleKeyEvent(timeOffset);\n    }\n    // Do whatever\n    requestAnimationFrame(this.onUpdate);\n  }\n  doDraw(dataTree: any, dataModel: Blob) {\n    this.loading = true;\n    // let newdataTree = _.cloneDeep(dataTree.children)\n    // newdataTree.forEach(item => {\n    //   return item.parts = item.parts.split(',')\n    // })\n    // this.ctrXbim.newDataTree = newdataTree;\n    // return;\n    this.ctrXbim.loadView(dataModel, (res: any) => {\n      this.loading = false;\n      dataTree.model = res.model;\n      this.dataTree.push(dataTree);\n      // 触发数组set监听\n      this.dataTree = this.dataTree.concat();\n      // 加载进度\n      // this.ctrXbim.viewer.loadAsync(dataModel, \"base\", {accessToken: this.token}, (msg) => {\n      //   // console.log(MessageProgress(msg).toFixed(2));\n      //   console.log(msg.percent);\n        \n      //   // progress.innerHTML = `[${MessageProgress(msg).toFixed(2)}%] ${msg.message}`;\n      // });\n    });\n  }\n  // 获得状态接口\n  getstateurl(data: any) {\n    this.stateUrl = data.data\n    this.fid = data.fid\n    this.ctrXbim.fid = data.fid\n  }\n  // 获得回显状态接口\n  gettoken(data: any) {\n    this.token = data.token\n    this.ctrXbim.token = data.token\n  }\n  printData() {\n    // console.log(Object.prototype.toString.call(this.detailData))\n    console.log(Object.keys(this.detailData))\n  }\n  resetPlane() {\n    this.progress = 50;\n    this.ctrXbim.resetClipBox();\n  }\n  downKey = \"\";\n  onKeyUp(evt: any) {\n    if (evt.key == this.downKey) {\n      this.downKey = \"\";\n    }\n  }\n  onKeyDown(evt: any) {\n    this.downKey = evt.key;\n  }\n  handleKeyEvent(timeOffset: number) {\n    switch (this.downKey) {\n      case \"w\": {\n        this.ctrXbim.walk(1, timeOffset);\n        break;\n      }\n      case \"a\": {\n        this.ctrXbim.walk(4, timeOffset);\n        break;\n      }\n      case \"s\": {\n        this.ctrXbim.walk(3, timeOffset);\n        break;\n      }\n      case \"d\": {\n        this.ctrXbim.walk(2, timeOffset);\n        break;\n      }\n    }\n  }\n  loadJson(url: string) {\n    return new Promise(rsv => {\n      axios({\n        url,\n        method: \"get\"\n      }).then(e => {\n        rsv(e.data);\n      });\n    });\n  }\n  loadFile(url: string) {\n    return new Promise(rsv => {\n      this.loading = true;\n      axios({\n        url,\n        method: \"get\",\n        responseType: \"blob\"\n      }).then(e => {\n        let blob = e.data;\n        // console.log(blob, \"blobblobblobblobblobblob\");\n        // todo:loadView的性能明显优于loadViewAsync。原因待排查\n        this.ctrXbim.loadView(blob, (e: any) => {\n          this.loading = false;\n          rsv(e);\n        });\n      });\n    });\n  }\n  hideItems(idList: number[]) {\n    this.ctrXbim.hideItems(idList, 1);\n  }\n  // 更改相机模式\n  cameraChange() {\n    this.camera = !this.camera\n    if (this.camera) {\n      this.ctrXbim.viewer.camera = 1\n    } else {\n      this.ctrXbim.viewer.camera = 0\n    }\n  }\n  // 视图模式切换\n  toggleChange() {\n    const dom = document.getElementsByClassName(\"gld_mode\")[0]\n    this.Modeflag? dom.classList.remove('active') : dom.classList.add('active')\n    this.Modeflag = !this.Modeflag\n    const tree = JSON.parse(JSON.stringify(this.dataTree[0].children))\n    if(this.Modeflag) {\n      this.ctrXbim.hilightedDataList = []\n      this.ctrXbim.stateFlag = true\n      axios({\n        url: 'http://192.168.0.117:9001/bimwebservice/ifcfile/select/structures/status',\n        // url: this.stateUrl,\n        headers: {\n          accessToken: this.token\n        },\n        method: \"post\",\n        data: {\n          fid: '3108'\n          // fid: this.fid\n        }\n      }).then(res => {\n        if (res.data.code===0) {          \n          const data = JSON.parse(res.data.data)\n          this.ctrXbim.stateTree = data;\n          this.stateTree = data;\n          _.forIn(data, (value,key) => {\n            this.colorkey.push(key)\n          })\n          const IN_TRANSPORT: any[] = [] // 运输中\n          const IN_PRODUCED: any[] = [] // 加工中\n          const IN_INSTALL: any[] = [] // 安装中\n          const NOT_PRODUCED: any[] = [] // 未开始\n          const PRODUCED_COMPLETED: any[] = [] // 加工完成\n          const INSTALL_COMPLETED: any[] = [] // 安装完成\n          const TRANSPORT_COMPLETED: any[] = [] // 运输完成\n          data.运输中.forEach(item => {\n            _.find(tree, ['id', item]).parts.split(\",\").forEach(element => {\n              IN_TRANSPORT.push(element)\n            })\n          })\n          data.加工中.forEach(item => {\n            _.find(tree, ['id', item]).parts.split(\",\").forEach(element => {\n              IN_PRODUCED.push(element)\n            })\n          })\n          data.安装中.forEach(item => {\n            _.find(tree, ['id', item]).parts.split(\",\").forEach(element => {\n              IN_INSTALL.push(element)\n            })\n          })\n          data.未开始.forEach(item => {\n            _.find(tree, ['id', item]).parts.split(\",\").forEach(element => {\n              NOT_PRODUCED.push(element)\n            })\n          })\n          data.加工完成.forEach(item => {\n            _.find(tree, ['id', item]).parts.split(\",\").forEach(element => {\n              PRODUCED_COMPLETED.push(element)\n            })\n          })\n          data.安装完成.forEach(item => {\n            _.find(tree, ['id', item]).parts.split(\",\").forEach(element => {\n              INSTALL_COMPLETED.push(element)\n            })\n          })\n          data.运输完成.forEach(item => {\n            _.find(tree, ['id', item]).parts.split(\",\").forEach(element => {\n              TRANSPORT_COMPLETED.push(element)\n            })\n          })\n          this.ctrXbim.IN_TRANSPORT_DataList = IN_TRANSPORT\n          this.ctrXbim.IN_PRODUCED_DataList = IN_PRODUCED\n          this.ctrXbim.IN_INSTALL_DataList = IN_INSTALL\n          this.ctrXbim.NOT_PRODUCED_DataList = NOT_PRODUCED\n          this.ctrXbim.PRODUCED_COMPLETED_DataList = PRODUCED_COMPLETED\n          this.ctrXbim.INSTALL_COMPLETED_DataList = INSTALL_COMPLETED\n          this.ctrXbim.TRANSPORT_COMPLETED_DataList = TRANSPORT_COMPLETED\n          this.ctrXbim.updateState()\n        }\n      })\n      // console.log(JSON.parse(JSON.stringify(this.dataTree[0].children)));\n      \n    } else {\n      this.ctrXbim.stateFlag = false\n      this.ctrXbim.resetState()\n    }\n  }\n  // 旋转\n  toggleRotate() {\n    const dom = document.getElementsByClassName(\"gld_rotate\")[0]\n    this.ctrXbim.flagRotate ? dom.classList.remove('active') : dom.classList.add('active')\n    this.ctrXbim.flagRotate = !this.ctrXbim.flagRotate;\n  }\n  // 测量\n  toggleMeasure() {\n    const dom = document.getElementsByClassName(\"gld_measure\")[0]\n    this.ctrXbim.flagMeasuring ? dom.classList.remove('active') : dom.classList.add('active')\n    this.ctrXbim.flagMeasuring = !this.ctrXbim.flagMeasuring;\n  }\n  // 漫游\n  toggleWalking() {\n    const dom = document.getElementsByClassName(\"gld_roam\")[0]\n    this.ctrXbim.flagWalking ? dom.classList.remove('active') : dom.classList.add('active')\n    this.ctrXbim.flagWalking = !this.ctrXbim.flagWalking;\n  }\n  // 标记\n  toggleMarking() {\n    // if (this.ctrXbim.flagMarking) {\n    //   this.clearMarking()\n    //   return false\n    // }\n    const dom = document.getElementsByClassName(\"gld_sign\")[0]\n    this.ctrXbim.flagMarking ? dom.classList.remove('active') : dom.classList.add('active')\n    this.ctrXbim.flagMarking = !this.ctrXbim.flagMarking;\n  }\n  Markingnter() {\n    const dom = document.getElementsByClassName(\"remove_toolbar\")[0]\n    dom.classList.add('display')\n    dom.classList.remove('hidden')\n  }\n  Markingout() {\n    const dom = document.getElementsByClassName(\"remove_toolbar\")[0]\n    dom.classList.add('hidden')\n    dom.classList.remove('display')\n  }\n  // 剖切\n  toggleClipping() {\n    const dom = document.getElementsByClassName(\"gld_Sectioning\")[0]\n    this.ctrXbim.flagClipping ? dom.classList.remove('active') : dom.classList.add('active')\n    this.ctrXbim.flagClipping = !this.ctrXbim.flagClipping;\n  }\n  // 详情\n  toggleDetails() {\n    const dom = document.getElementsByClassName(\"gld_details\")[0]\n    this.Attribute_details ? dom.classList.remove('active') : dom.classList.add('active')\n    this.Attribute_details = !this.Attribute_details;\n  }\n  remove() {\n    this.Attribute_details =false\n    const dom = document.getElementsByClassName(\"gld_details\")[0]\n    dom.classList.remove('active')\n  }\n  toggleflag() {\n    this.flag = !this.flag\n  }\n  isScreenFull() {\n    this.isFullscreen = !this.isFullscreen\n    // 需要注意的是 如果判断!screenfull.enabled 显示的是不支持全屏的话 是因为谷歌的版本问题  判断改为 !screenfull.isEnabled  就可以了\n    if (!screenfull.isEnabled) {\n      // 如果不支持进入全屏，发出不支持提示\n      ElMessage.warning({\n        message: '浏览器不支持全屏',\n        type: 'warning'\n      });\n      return false;\n    }\n    screenfull.toggle();\n  }\n  \n  cancelSelClipPlane() {\n    this.ctrXbim.cancelSelClipPlane();\n  }\n  toggleClippingPlane() {\n    const dom = document.getElementsByClassName(\"able\")[0]\n    !this.ctrXbim.showClipping ? dom.classList.remove('active') : dom.classList.add('active')\n    this.ctrXbim.showClipping = !this.ctrXbim.showClipping;\n  }\n  toggleCreateClip() {\n    if (this.ctrXbim.clippingPlanes.length>=2) {\n      ElMessage.warning({\n        message: '最多只能创建2个剖切面',\n        type: 'warning'\n      });\n      return\n    }\n    this.ctrXbim.flagCreateNew = !this.ctrXbim.flagCreateNew;\n  }\n}\n</script>\n","export const vshader = `\n  attribute vec3 coordinates;\n  uniform mediump float uColorCoding; \n  uniform float prodId; \n\n  uniform mat4 uMvMatrix;\n  uniform mat4 uPMatrix;\n  varying vec4 vIdColor;\n\n  vec4 getIdColor(){\n    float product = floor(prodId + 0.5);\n    float B = floor(product / (256.0*256.0));\n    float G = floor((product - B * 256.0*256.0) / 256.0);\n    float R = mod(product, 256.0);\n    return vec4(R / 255.0, G / 255.0, B / 255.0, 1.0);\n }\n\n  void main(void) {\n    if (uColorCoding == 1.0)\n  {\n    vIdColor = getIdColor();\n  }else{\n   vIdColor = vec4(0.0, 255.0, 0.0, 0.2);\n  }\n\n   gl_Position = uPMatrix * uMvMatrix * vec4(coordinates, 1.0);\n  }`;\n","import { IPlugin } from \"../plugin\";\nimport { Viewer, Framebuffer } from \"@xbim/viewer\";\nimport { vshader } from \"./vshader\";\nimport { vec4, vec3 } from \"gl-matrix\";\n\nexport class ClickPanelChecker implements IPlugin {\n  private viewer!: Viewer;\n  private program!: WebGLProgram;\n  private vertex_buffer!: WebGLBuffer;\n  private coordinatesAttributePointer!: number;\n  private mvUniformPointer!: WebGLUniformLocation | null;\n  private pUniformPointer!: WebGLUniformLocation | null;\n  private colourUniformPointer!: WebGLUniformLocation | null;\n  private _colourCodingUniformPointer: any;\n  private initialized = false;\n  _prodId: any;\n  private _modelId = 100000001;\n\n  /**\n   * Factor used to make the grid bigger than the current region\n   */\n  public factor = 1.5;\n  /**\n   * Fragment of Z height to be used as a Z offset bellow the model\n   */\n  public zFactor = 5.0;\n\n  /**\n   * Number of lines to be drawn\n   */\n  public numberOfLines = 10.0;\n\n  /**\n   * Colour of the grid\n   */\n  public colour = vec4.fromValues(200.0, 0.0, 0.0, 1.0);\n\n  /**\n   * Set to true to stop rendering of this plugin\n   */\n  public get stopped(): boolean {\n    return this._stopped;\n  }\n  public set stopped(value: boolean) {\n    this._stopped = value;\n    if (this.viewer) {\n      this.viewer.draw();\n    }\n  }\n  private _stopped = false;\n\n  public init(viewer: Viewer): void {\n    this.viewer = viewer;\n\n    const gl = viewer.gl;\n\n    this._initShader();\n    gl.useProgram(this.program);\n\n    // return\n    // create vertex buffer\n    this.vertex_buffer = gl.createBuffer() as WebGLBuffer;\n\n    // Get the attribute location\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertex_buffer);\n    this.coordinatesAttributePointer = gl.getAttribLocation(\n      this.program,\n      \"coordinates\"\n    );\n    // Enable the attribute\n    gl.enableVertexAttribArray(this.coordinatesAttributePointer);\n\n    gl.vertexAttribPointer(\n      this.coordinatesAttributePointer,\n      3,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n\n    this._colourCodingUniformPointer = gl.getUniformLocation(\n      this.program,\n      \"uColorCoding\"\n    );\n    gl.enableVertexAttribArray(this._colourCodingUniformPointer);\n\n    this._prodId = gl.getUniformLocation(this.program, \"prodId\");\n    gl.enableVertexAttribArray(this._prodId);\n\n    // get uniform locations\n    this.colourUniformPointer = gl.getUniformLocation(this.program, \"uColour\");\n    this.pUniformPointer = gl.getUniformLocation(this.program, \"uPMatrix\");\n    this.mvUniformPointer = gl.getUniformLocation(this.program, \"uMvMatrix\");\n\n    this.initialized = true;\n  }\n  selectedPanelId!: number;\n  getClickPanel(box: any, event: any) {\n    this.stopped = false;\n    this.selectedBox = box;\n    this.doDraw();\n    let panelId = this.checkSelMian(event);\n    this.selectedPanelId = panelId;\n    this.stopped = true;\n    return this.boxData.find(item => item.id == panelId);\n  }\n  checkSelMian(event: any) {\n    {\n      let viewer = this.viewer;\n      if (this.stopped) {\n        return 0;\n      }\n      var startX = event.clientX;\n      var startY = event.clientY;\n\n      var r = viewer.canvas.getBoundingClientRect();\n      var x = startX - r.left;\n      var y = viewer.height - (startY - r.top);\n\n      var id = this.getId(event) as number;\n      // 更新切面大小\n      let conf = this.boxData.find(c => c.id == id);\n      if (conf) {\n        conf.plane1 = this.getPoints1(id);\n      }\n      return id;\n    }\n  }\n  private getId(event: MouseEvent | Touch) {\n    let x = event.clientX;\n    let y = event.clientY;\n\n    //get coordinates within canvas (with the right orientation)\n    let r = this.viewer.canvas.getBoundingClientRect();\n    let viewX = x - r.left;\n    let viewY = this.viewer.height - (y - r.top);\n\n    const gl = this.viewer.gl;\n    var fb = new Framebuffer(\n      gl,\n      this.viewer.width,\n      this.viewer.height,\n      false,\n      this.viewer.glVersion\n    );\n    gl.viewport(0, 0, this.viewer.width, this.viewer.height);\n    gl.enable(gl.DEPTH_TEST); //we don't use any kind of blending or transparency\n    gl.disable(gl.BLEND);\n    // clear all\n    gl.clearColor(0, 0, 0, 0); //zero colour for no-values\n    // tslint:disable-next-line: no-bitwise\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n    this.onAfterDrawId();\n    const id = fb.getId(viewX, viewY);\n    let pos = fb.getXYZ(viewX, viewY);\n    fb.delete();\n    return id;\n  }\n\n  private _initShader(): void {\n    var gl = this.viewer.gl;\n    var viewer = this.viewer;\n    var compile = (shader: any, code: any) => {\n      gl.shaderSource(shader, code);\n      gl.compileShader(shader);\n      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        let msg = gl.getShaderInfoLog(shader);\n        viewer.error(msg);\n        return null;\n      }\n    };\n\n    //fragment shader\n    // Fragment shader source code\n    const fragCode = `precision mediump float; uniform vec4 uColour;\n      varying vec4 vIdColor;\n      void main(void) {\n      gl_FragColor = vIdColor;\n      }`;\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER) as WebGLShader;\n    compile(fragmentShader, fragCode);\n\n    //vertex shader (the more complicated one)\n    var vertexShader = gl.createShader(gl.VERTEX_SHADER) as WebGLProgram;\n    compile(vertexShader, vshader);\n\n    //link program\n    this.program = gl.createProgram() as WebGLProgram;\n    gl.attachShader(this.program, vertexShader);\n    gl.attachShader(this.program, fragmentShader);\n    gl.linkProgram(this.program);\n\n    if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\n      viewer.error(\"Could not initialise shaders for a navigation cube plugin\");\n    }\n  }\n  public selectedBox: Float32Array | undefined;\n  boxData: any[] = [];\n  getPoints1(id: number) {\n    if (!this.selectedBox) {\n      return;\n    }\n    let box = this.selectedBox;\n    let viewBox = this.viewer.getTargetBoundingBox();\n    let max = Math.max(viewBox[3], viewBox[4], viewBox[5]);\n    let off = max + 400;\n    let pos = {\n      x: box[0],\n      y: box[1],\n      z: box[2]\n    };\n    let size = {\n      x: box[3],\n      y: box[4],\n      z: box[5]\n    };\n    if (id == 1 || id == 2) {\n      // z不动\n      pos.x -= off;\n      pos.y -= off;\n      size.x += off * 2;\n      size.y += off * 2;\n    } else if (id == 3 || id == 4) {\n      // x不动\n      pos.z -= off;\n      pos.y -= off;\n      size.z += off * 2;\n      size.y += off * 2;\n    } else if (id == 5 || id == 6) {\n      // y不动\n      pos.x -= off;\n      pos.z -= off;\n      size.x += off * 2;\n      size.z += off * 2;\n    }\n\n    let A1 = [pos.x, pos.y, pos.z];\n    let B1 = [pos.x + size.x, pos.y, pos.z];\n    let C1 = [pos.x + size.x, pos.y + size.y, pos.z];\n    let D1 = [pos.x, pos.y + size.y, pos.z];\n\n    let E1 = [pos.x, pos.y, pos.z + size.z];\n    let F1 = [pos.x + size.x, pos.y, pos.z + size.z];\n    let G1 = [pos.x + size.x, pos.y + size.y, pos.z + size.z];\n    let H1 = [pos.x, pos.y + size.y, pos.z + size.z];\n    switch (id) {\n      case 1: {\n        return [A1, B1, D1, C1];\n      }\n      case 2: {\n        return [E1, F1, H1, G1];\n      }\n      case 3: {\n        return [A1, E1, D1, H1];\n      }\n      case 4: {\n        return [B1, F1, C1, G1];\n      }\n      case 5: {\n        return [C1, G1, D1, H1];\n      }\n      case 6: {\n        return [E1, F1, A1, B1];\n      }\n    }\n  }\n  getPoints(box: any) {\n    let off = 0;\n    let pos = {\n      x: box[0] - off,\n      y: box[1] - off,\n      z: box[2] - off\n    };\n    let size = {\n      x: box[3] + off * 2,\n      y: box[4] + off * 2,\n      z: box[5] + off * 2\n    };\n\n    let A = [pos.x, pos.y, pos.z];\n    let B = [pos.x + size.x, pos.y, pos.z];\n    let C = [pos.x + size.x, pos.y + size.y, pos.z];\n    let D = [pos.x, pos.y + size.y, pos.z];\n\n    let E = [pos.x, pos.y, pos.z + size.z];\n    let F = [pos.x + size.x, pos.y, pos.z + size.z];\n    let G = [pos.x + size.x, pos.y + size.y, pos.z + size.z];\n    let H = [pos.x, pos.y + size.y, pos.z + size.z];\n    return [A, B, C, D, E, F, G, H];\n  }\n  doDraw() {\n    if (!this.initialized || this.stopped) {\n      return;\n    }\n    if (!this.selectedBox) {\n      return;\n    }\n\n    let [A, B, C, D, E, F, G, H] = this.getPoints(this.selectedBox);\n    let [A1, B1, C1, D1, E1, F1, G1, H1] = this.getPoints(this.selectedBox);\n\n    let funcAddPoint = (arr: number[], vertices: number[]) => {\n      arr.forEach(num => {\n        vertices.push(num);\n      });\n    };\n\n    this.boxData = [\n      {\n        plane: [A, B, D, C],\n        plane1: [A1, B1, D1, C1],\n        faxian: [A, E],\n        id: 1.0\n      },\n      {\n        plane: [E, F, H, G],\n        plane1: [E1, F1, H1, G1],\n        faxian: [E, A],\n        id: 2.0\n      },\n      {\n        id: 3.0,\n        plane: [A, E, D, H],\n        plane1: [A1, E1, D1, H1],\n        faxian: [E, F]\n      },\n      {\n        id: 4.0,\n        plane: [B, F, C, G],\n        plane1: [B1, F1, C1, G1],\n        faxian: [B, A]\n      },\n      {\n        id: 5.0,\n        plane: [C, G, D, H],\n        plane1: [C1, G1, D1, H1],\n        faxian: [H, E]\n      },\n      {\n        id: 6.0,\n        plane: [E, F, A, B],\n        plane1: [E1, F1, A1, B1],\n        faxian: [E, H]\n      }\n    ];\n    this.boxData.forEach(conf => {\n      let vertices1: number[] = [];\n      conf.plane.forEach((data: any) => {\n        funcAddPoint(data, vertices1);\n      });\n      this.drawPlane(vertices1, conf.id, conf.id2);\n    });\n  }\n  drawPlane(vertices: any, id: number, id2: number) {\n    const gl = this.setActive();\n\n    // set uniforms\n    gl.uniformMatrix4fv(this.pUniformPointer, false, this.viewer.pMatrix);\n    gl.uniformMatrix4fv(this.mvUniformPointer, false, this.viewer.mvMatrix);\n    gl.uniform4fv(this.colourUniformPointer, this.colour);\n    // Bind vertex buffer object\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertex_buffer);\n    // Pass the vertex data to the buffer\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);\n\n    // Point an attribute to the currently bound VBO\n    // gl.bindBuffer(gl.ARRAY_BUFFER, this.vertex_buffer);\n    gl.vertexAttribPointer(\n      this.coordinatesAttributePointer,\n      3,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n\n    gl.uniform1f(this._prodId, id);\n\n    gl.enable(gl.BLEND);\n    gl.enable(gl.DEPTH_TEST);\n    // gl.blendFunc(gl.ONE_MINUS_DST_COLOR, gl.ONE_MINUS_SRC_COLOR);\n\n    // Draw lines\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, vertices.length / 3);\n  }\n\n  // tslint:disable: no-empty\n  public onBeforeDraw(width: number, height: number): void {}\n\n  public onBeforeDrawId(): void {}\n\n  private setActive(): WebGLRenderingContext {\n    var gl = this.viewer.gl;\n    //set own shader\n    gl.useProgram(this.program);\n\n    return gl;\n  }\n  public onAfterDraw(width: number, height: number) {\n    if (this.stopped) {\n      return;\n    }\n    var gl = this.setActive();\n    gl.disable(gl.BLEND);\n    gl.disable(gl.DEPTH_TEST);\n\n    //set uniform for colour coding to false\n    gl.uniform1f(this._colourCodingUniformPointer, 0);\n    this.doDraw();\n  }\n  public onAfterDrawId() {\n    if (this.stopped) {\n      return;\n    }\n    var gl = this.setActive();\n    //set uniform for colour coding to true\n    gl.uniform1f(this._colourCodingUniformPointer, 1);\n\n    this.doDraw();\n  }\n\n  public onAfterDrawModelId() {\n    if (this.stopped) {\n      return;\n    }\n    var gl = this.setActive();\n    //set uniform for colour coding to this model id\n    gl.uniform1f(this._colourCodingUniformPointer, this._modelId);\n    this.doDraw();\n  }\n}\n","export const vshader = \"attribute vec3 coordinates;\\r\\n\\r\\n\\r\\nuniform mat4 uMvMatrix;\\r\\nuniform mat4 uPMatrix;\\r\\n\\r\\nvoid main(void) {\\r\\n gl_Position = uPMatrix * uMvMatrix * vec4(coordinates, 1.0);\\r\\n}\"","import { IPlugin } from \"../plugin\";\nimport { Viewer } from \"@xbim/viewer\";\nimport { mat4, vec3, mat3 } from \"gl-matrix\";\n\nexport class TextRender implements IPlugin {\n  /**\n   * Set to true to stop rendering of this plugin\n   */\n  public get stopped(): boolean {\n    return this._stopped;\n  }\n  public set stopped(value: boolean) {\n    this._stopped = value;\n    if (this.viewer) {\n      this.viewer.draw();\n    }\n  }\n  private _stopped = false;\n\n  private viewer!: Viewer;\n  private program!: any;\n\n  constructor(viewer: Viewer) {\n    this.viewer = viewer;\n    this.init();\n  }\n  buffers: any;\n  position: vec3 = vec3.fromValues(\n    -5415.40478515625,\n    647.7828369140625,\n    5741.4638671875\n  );\n  flagInited = false;\n  texture!: any;\n  init() {\n    this.buffers = this.initBuffers();\n\n    this.main();\n    this.flagInited = true;\n  }\n  renderText(txt: string = \"\") {\n    let canvas: any = document.querySelector(\"#canvas\");\n    if (!canvas) {\n      canvas = document.createElement(\"canvas\");\n      canvas.id = \"canvas\";\n      document.body.appendChild(canvas);\n    }\n    const scale = 1; // 精度\n    let size = 20;\n    const value = txt;\n    const ctx = canvas.getContext(\"2d\"); // 获取2D绘图上下文\n    let w = ctx.measureText(value).width;\n    ctx.globalAlpha = 0;\n    ctx.fillStyle = \"rgba(255, 255, 255, 0)\";\n    canvas.width = w * scale;\n    canvas.height = w * scale;\n\n    ctx.textBaseline = \"middle\";\n\n    // =E 绘制坐标参照系\n\n    //绘制字体\n    ctx.font = size * scale + 'px \"微软雅黑\"';\n    ctx.fillText(value, 0, canvas.height / 2);\n\n    function imageDataHRevert(sourceData: any, newData: any) {\n      for (var i = 0, h = sourceData.height; i < h; i++) {\n        for (let j = 0, w = sourceData.width; j < w; j++) {\n          newData.data[i * w * 4 + j * 4 + 0] =\n            sourceData.data[i * w * 4 + (w - j) * 4 + 0];\n          newData.data[i * w * 4 + j * 4 + 1] =\n            sourceData.data[i * w * 4 + (w - j) * 4 + 1];\n          newData.data[i * w * 4 + j * 4 + 2] =\n            sourceData.data[i * w * 4 + (w - j) * 4 + 2];\n          newData.data[i * w * 4 + j * 4 + 3] =\n            sourceData.data[i * w * 4 + (w - j) * 4 + 3];\n        }\n      }\n      return newData;\n    }\n    var imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    var newImgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    ctx.putImageData(imageDataHRevert(newImgData, imgData), 0, 0);\n\n    this.loadTexture(canvas.toDataURL(\"image/png\"));\n    // drawTextCanvasToWebGL(ctx.canvas); //绘制文字纹理到WebGL\n  }\n  loadTexture(url: string) {\n    let gl = this.viewer.gl;\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    // Because images have to be download over the internet\n    // they might take a moment until they are ready.\n    // Until then put a single pixel in the texture so we can\n    // use it immediately. When the image has finished downloading\n    // we'll update the texture with the contents of the image.\n    const level = 0;\n    const internalFormat = gl.RGBA;\n    const width = 1;\n    const height = 1;\n    const border = 0;\n    const srcFormat = gl.RGBA;\n    const srcType = gl.UNSIGNED_BYTE;\n    const pixel = new Uint8Array([0, 0, 255, 255]); // opaque blue\n    gl.texImage2D(\n      gl.TEXTURE_2D,\n      level,\n      internalFormat,\n      width,\n      height,\n      border,\n      srcFormat,\n      srcType,\n      pixel\n    );\n\n    const image = new Image();\n    image.onload = () => {\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texImage2D(\n        gl.TEXTURE_2D,\n        level,\n        internalFormat,\n        srcFormat,\n        srcType,\n        image\n      );\n\n      // WebGL1 has different requirements for power of 2 images\n      // vs non power of 2 images so check if the image is a\n      // power of 2 in both dimensions.\n      if (this.isPowerOf2(image.width) && this.isPowerOf2(image.height)) {\n        // Yes, it's a power of 2. Generate mips.\n        gl.generateMipmap(gl.TEXTURE_2D);\n      } else {\n        // No, it's not a power of 2. Turn of mips and set\n        // wrapping to clamp to edge\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n      }\n      this.texture = texture;\n    };\n    image.src = url;\n\n    return texture;\n  }\n  isPowerOf2(value: any) {\n    return (value & (value - 1)) == 0;\n  }\n\n  onAfterDraw() {\n    this.drawScene();\n  }\n  onBeforeDraw() {\n    // this.drawCube();\n  }\n  onBeforeDrawId() {}\n  onAfterDrawId() {}\n  onAfterDrawModelId() {}\n  //\n  // Start here\n  //\n  main() {\n    let gl = this.viewer.gl;\n\n    // If we don't have a GL context, give up now\n\n    if (!gl) {\n      alert(\n        \"Unable to initialize WebGL. Your browser or machine may not support it.\"\n      );\n      return;\n    }\n\n    // Vertex shader program\n\n    const vsSource = `\n    attribute vec4 aVertexPosition;\n    attribute vec2 aTextureCoord;\n\n    uniform mat4 uMVMatrix;\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    varying highp vec2 vTextureCoord;\n\n    void main(void) {\n\n      gl_Position = uProjectionMatrix  * uMVMatrix* uModelViewMatrix * aVertexPosition;\n      vTextureCoord = aTextureCoord;\n    }\n  `;\n\n    // Fragment shader program\n\n    const fsSource = `\n    varying highp vec2 vTextureCoord;\n\n    uniform sampler2D uSampler;\n\n    void main(void) {\n      gl_FragColor = texture2D(uSampler, vTextureCoord);\n    }\n  `;\n\n    // Initialize a shader program; this is where all the lighting\n    // for the vertices and so forth is established.\n    const shaderProgram = this.initShaderProgram(gl, vsSource, fsSource);\n\n    // Collect all the info needed to use the shader program.\n    // Look up which attributes our shader program is using\n    // for aVertexPosition, aVertexColor and also\n    // look up uniform locations.\n    this.program = {\n      program: shaderProgram,\n      attribLocations: {\n        vertexPosition: gl.getAttribLocation(shaderProgram, \"aVertexPosition\"),\n        textureCoord: gl.getAttribLocation(shaderProgram, \"aTextureCoord\")\n      },\n      uniformLocations: {\n        mvMatrix: gl.getUniformLocation(shaderProgram, \"uMVMatrix\"),\n        projectionMatrix: gl.getUniformLocation(\n          shaderProgram,\n          \"uProjectionMatrix\"\n        ),\n        modelViewMatrix: gl.getUniformLocation(\n          shaderProgram,\n          \"uModelViewMatrix\"\n        ),\n        uSampler: gl.getUniformLocation(shaderProgram, \"uSampler\")\n      }\n    };\n\n    // Here's where we call the routine that builds all the\n    // objects we'll be drawing.\n  }\n\n  //\n  // initBuffers\n  //\n  // Initialize the buffers we'll need. For this demo, we just\n  // have one object -- a simple three-dimensional cube.\n  //\n  initBuffers() {\n    let gl = this.viewer.gl;\n\n    // Create a buffer for the cube's vertex positions.\n\n    const positionBuffer = gl.createBuffer();\n\n    // Select the positionBuffer as the one to apply buffer\n    // operations to from here out.\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n\n    // Now create an array of positions for the cube.\n    let len = 500;\n    let y = 0.1;\n    const positions = [\n      // Front face\n      -len,\n      -y,\n      len,\n\n      len,\n      -y,\n      len,\n\n      len,\n      y,\n      len,\n\n      -len,\n      y,\n      len,\n\n      // Back face\n      -len,\n      -y,\n      -len,\n\n      -len,\n      y,\n      -len,\n\n      len,\n      y,\n      -len,\n\n      len,\n      -y,\n      -len,\n\n      // Top face\n      -len,\n      y,\n      -len,\n\n      -len,\n      y,\n      len,\n\n      len,\n      y,\n      len,\n\n      len,\n      y,\n      -len,\n\n      // Bottom face\n      -len,\n      -y,\n      -len,\n\n      len,\n      -y,\n      -len,\n\n      len,\n      -y,\n      len,\n\n      -len,\n      -y,\n      len,\n\n      // Right face\n      len,\n      -y,\n      -len,\n\n      len,\n      y,\n      -len,\n\n      len,\n      y,\n      len,\n\n      len,\n      -y,\n      len,\n\n      // Left face\n      -len,\n      -y,\n      -len,\n\n      -len,\n      -y,\n      len,\n\n      -len,\n      y,\n      len,\n\n      -len,\n      y,\n      -len\n    ];\n\n    // Now pass the list of positions into WebGL to build the\n    // shape. We do this by creating a Float32Array from the\n    // JavaScript array, then use it to fill the current buffer.\n\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);\n\n    // Now set up the texture coordinates for the faces.\n\n    const textureCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, textureCoordBuffer);\n\n    const textureCoordinates = [\n      // Front\n      0.0,\n      0.0,\n\n      0.0,\n      0.0,\n\n      0.0,\n      0.0,\n\n      0.0,\n      0.0,\n      // Back\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      // Top\n      1.0,\n      0.0,\n      1.0,\n      1.0,\n      0.0,\n      1.0,\n      0.0,\n      0.0,\n      // Bottom\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      // Right\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      // Left\n      0.0,\n      0.0,\n      1.0,\n      0.0,\n      1.0,\n      1.0,\n      0.0,\n      1.0\n    ];\n\n    gl.bufferData(\n      gl.ARRAY_BUFFER,\n      new Float32Array(textureCoordinates),\n      gl.STATIC_DRAW\n    );\n\n    // Build the element array buffer; this specifies the indices\n    // into the vertex arrays for each face's vertices.\n\n    const indexBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\n\n    // This array defines each face as two triangles, using the\n    // indices into the vertex array to specify each triangle's\n    // position.\n\n    const indices = [\n      0,\n      1,\n      2,\n      0,\n      2,\n      3, // front\n      4,\n      5,\n      6,\n      4,\n      6,\n      7, // back\n      8,\n      9,\n      10,\n      8,\n      10,\n      11, // top\n      12,\n      13,\n      14,\n      12,\n      14,\n      15, // bottom\n      16,\n      17,\n      18,\n      16,\n      18,\n      19, // right\n      20,\n      21,\n      22,\n      20,\n      22,\n      23 // left\n    ];\n\n    // Now send the element array to GL\n\n    gl.bufferData(\n      gl.ELEMENT_ARRAY_BUFFER,\n      new Uint16Array(indices),\n      gl.STATIC_DRAW\n    );\n\n    return {\n      position: positionBuffer,\n      textureCoord: textureCoordBuffer,\n      indices: indexBuffer\n    };\n  }\n  public getMatrix(): mat4 {\n    let trans = mat4.create();\n    let trans1 = this.position;\n    mat4.translate(\n      trans, // destination matrix\n      trans, // matrix to translate\n      trans1\n    );\n    return trans;\n  }\n  //\n  // Draw the scene.\n  //\n  drawScene() {\n    if (this.stopped || !this.texture) {\n      return;\n    }\n    let gl = this.viewer.gl;\n    let programInfo = this.program;\n    let buffers = this.buffers;\n    let texture = this.texture;\n    let cubeRotation = 0.0;\n\n    gl.enable(gl.DEPTH_TEST); // Enable depth testing\n\n    // Create a perspective matrix, a special matrix that is\n    // used to simulate the distortion of perspective in a camera.\n    // Our field of view is 45 degrees, with a width/height\n    // ratio that matches the display size of the canvas\n    // and we only want to see objects between 0.1 units\n    // and 100 units away from the camera.\n\n    // Set the drawing position to the \"identity\" point, which is\n    // the center of the scene.\n    let modelViewMatrix = this.getMatrix();\n\n    // Tell WebGL how to pull out the positions from the position\n    // buffer into the vertexPosition attribute\n    {\n      const numComponents = 3;\n      const type = gl.FLOAT;\n      const normalize = false;\n      const stride = 0;\n      const offset = 0;\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffers.position);\n      gl.vertexAttribPointer(\n        programInfo.attribLocations.vertexPosition,\n        numComponents,\n        type,\n        normalize,\n        stride,\n        offset\n      );\n      gl.enableVertexAttribArray(programInfo.attribLocations.vertexPosition);\n    }\n\n    // Tell WebGL how to pull out the texture coordinates from\n    // the texture coordinate buffer into the textureCoord attribute.\n    {\n      const numComponents = 2;\n      const type = gl.FLOAT;\n      const normalize = false;\n      const stride = 0;\n      const offset = 0;\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffers.textureCoord);\n      gl.vertexAttribPointer(\n        programInfo.attribLocations.textureCoord,\n        numComponents,\n        type,\n        normalize,\n        stride,\n        offset\n      );\n      gl.enableVertexAttribArray(programInfo.attribLocations.textureCoord);\n    }\n\n    // Tell WebGL which indices to use to index the vertices\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffers.indices);\n\n    // Tell WebGL to use our program when drawing\n\n    gl.useProgram(programInfo.program);\n\n    // Set the shader uniforms\n\n    gl.uniformMatrix4fv(\n      programInfo.uniformLocations.mvMatrix,\n      false,\n      this.viewer.mvMatrix\n    );\n    gl.uniformMatrix4fv(\n      programInfo.uniformLocations.projectionMatrix,\n      false,\n      this.viewer.pMatrix\n    );\n    gl.uniformMatrix4fv(\n      programInfo.uniformLocations.modelViewMatrix,\n      false,\n      modelViewMatrix\n    );\n\n    // Specify the texture to map onto the faces.\n\n    // Tell WebGL we want to affect texture unit 0\n    gl.activeTexture(gl.TEXTURE0);\n\n    // Bind the texture to texture unit 0\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    // Tell the shader we bound the texture to texture unit 0\n    gl.uniform1i(programInfo.uniformLocations.uSampler, 0);\n\n    {\n      const vertexCount = 36;\n      const type = gl.UNSIGNED_SHORT;\n      const offset = 0;\n      gl.drawElements(gl.TRIANGLES, vertexCount, type, offset);\n    }\n\n    // Update the rotation for the next draw\n\n    // cubeRotation += deltaTime;\n  }\n\n  //\n  // Initialize a shader program, so WebGL knows how to draw our data\n  //\n  initShaderProgram(gl: any, vsSource: any, fsSource: any) {\n    const vertexShader = this.loadShader(gl, gl.VERTEX_SHADER, vsSource);\n    const fragmentShader = this.loadShader(gl, gl.FRAGMENT_SHADER, fsSource);\n\n    // Create the shader program\n\n    const shaderProgram = gl.createProgram();\n    gl.attachShader(shaderProgram, vertexShader);\n    gl.attachShader(shaderProgram, fragmentShader);\n    gl.linkProgram(shaderProgram);\n\n    // If creating the shader program failed, alert\n\n    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n      alert(\n        \"Unable to initialize the shader program: \" +\n          gl.getProgramInfoLog(shaderProgram)\n      );\n      return null;\n    }\n\n    return shaderProgram;\n  }\n\n  //\n  // creates a shader of the given type, uploads the source and\n  // compiles it.\n  //\n  loadShader(gl: any, type: any, source: any) {\n    const shader = gl.createShader(type);\n\n    // Send the source to the shader object\n\n    gl.shaderSource(shader, source);\n\n    // Compile the shader program\n\n    gl.compileShader(shader);\n\n    // See if it compiled successfully\n\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      alert(\n        \"An error occurred compiling the shaders: \" +\n          gl.getShaderInfoLog(shader)\n      );\n      gl.deleteShader(shader);\n      return null;\n    }\n\n    return shader;\n  }\n}\n","import { IPlugin } from \"../plugin\";\nimport { Viewer } from \"@xbim/viewer\";\nimport { vshader } from \"./vshader\";\nimport { mat4, vec3, vec4 } from \"gl-matrix\";\nimport { TextRender } from \"../TextRender/TextRender\";\n\nexport class Measure implements IPlugin {\n  private viewer!: Viewer;\n  private program!: WebGLProgram;\n  private vertex_buffer!: WebGLBuffer | null;\n  private coordinatesAttributePointer!: number;\n  private mvUniformPointer!: WebGLUniformLocation | null;\n  private pUniformPointer!: WebGLUniformLocation | null;\n  private colourUniformPointer!: WebGLUniformLocation | null;\n  private initialized = false;\n  /**\n   * Colour of the grid\n   */\n  public colour = [0.7, 0, 0.7, 0.8];\n\n  /**\n   * Set to true to stop rendering of this plugin\n   */\n  public get stopped(): boolean {\n    return this._stopped;\n  }\n  public set stopped(value: boolean) {\n    this._stopped = value;\n    if (this.viewer) {\n      this.viewer.draw();\n    }\n  }\n  private _stopped = false;\n\n  public init(viewer: Viewer): void {\n    this.viewer = viewer;\n\n    const gl = viewer.gl;\n\n    this._initShader();\n    gl.useProgram(this.program);\n\n    // create vertex buffer\n    this.vertex_buffer = gl.createBuffer();\n\n    // Get the attribute location\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertex_buffer);\n    this.coordinatesAttributePointer = gl.getAttribLocation(\n      this.program,\n      \"coordinates\"\n    );\n    gl.vertexAttribPointer(\n      this.coordinatesAttributePointer,\n      3,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n\n    // Enable the attribute\n    gl.enableVertexAttribArray(this.coordinatesAttributePointer);\n\n    // get uniform locations\n    this.colourUniformPointer = gl.getUniformLocation(this.program, \"uColour\");\n    this.pUniformPointer = gl.getUniformLocation(this.program, \"uPMatrix\");\n    this.mvUniformPointer = gl.getUniformLocation(this.program, \"uMvMatrix\");\n\n    this.initialized = true;\n  }\n\n  private _initShader(): void {\n    var gl = this.viewer.gl;\n    var viewer = this.viewer;\n    var compile = (shader: any, code: any) => {\n      gl.shaderSource(shader, code);\n      gl.compileShader(shader);\n      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        let msg = gl.getShaderInfoLog(shader);\n        viewer.error(msg);\n        return null;\n      }\n    };\n\n    //fragment shader\n    // Fragment shader source code\n    const fragCode =\n      \"precision mediump float; uniform vec4 uColour;\" +\n      \"void main(void) {\" +\n      \"gl_FragColor = uColour;\" +\n      \"}\";\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER) as WebGLShader;\n    compile(fragmentShader, fragCode);\n\n    //vertex shader (the more complicated one)\n    var vertexShader = gl.createShader(gl.VERTEX_SHADER) as WebGLProgram;\n    compile(vertexShader, vshader);\n\n    //link program\n    this.program = gl.createProgram() as WebGLProgram;\n    gl.attachShader(this.program, vertexShader);\n    gl.attachShader(this.program, fragmentShader);\n    gl.linkProgram(this.program);\n\n    if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\n      viewer.error(\"Could not initialise shaders for a navigation cube plugin\");\n    }\n  }\n  points: number[][] = [];\n  public onAfterDraw(width: number, height: number): void {\n    this.doDraw();\n  }\n  public drawWithgl(vertices: any[]) {\n    const gl = this.viewer.gl;\n    gl.useProgram(this.program);\n\n    // set uniforms\n    gl.uniformMatrix4fv(this.pUniformPointer, false, this.viewer.pMatrix);\n    gl.uniformMatrix4fv(this.mvUniformPointer, false, this.viewer.mvMatrix);\n    gl.uniform4fv(this.colourUniformPointer, this.colour);\n\n    // Bind vertex buffer object\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertex_buffer);\n    // Pass the vertex data to the buffer\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);\n\n    // Point an attribute to the currently bound VBO\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertex_buffer);\n    gl.vertexAttribPointer(\n      this.coordinatesAttributePointer,\n      3,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n\n    gl.enable(gl.BLEND);\n    gl.enable(gl.DEPTH_TEST);\n    gl.blendFunc(gl.ONE_MINUS_DST_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n    // Draw lines\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, vertices.length / 3);\n  }\n  clearAll() {\n    this.listText.forEach((text: TextRender) => {\n      text.stopped = true;\n    });\n    this.listText = [];\n  }\n  public drawPoint(points: number[]) {\n    const vertices: number[] = [];\n\n    let off = 100;\n    let pos = {\n      x: points[0] - off / 2,\n      y: points[1] - off / 2,\n      z: points[2] - off / 2\n    };\n\n    let A = [pos.x, pos.y, pos.z];\n    let B = [pos.x + off, pos.y, pos.z];\n    let C = [pos.x + off, pos.y + off, pos.z];\n    let D = [pos.x, pos.y + off, pos.z];\n\n    let E = [pos.x, pos.y, pos.z + off];\n    let F = [pos.x + off, pos.y, pos.z + off];\n    let G = [pos.x + off, pos.y + off, pos.z + off];\n    let H = [pos.x, pos.y + off, pos.z + off];\n\n    [A, B, C, F, G, E, H, A, D, C, H, G, E, F, A, B].forEach(data => {\n      this.funcAddPoint(vertices, data);\n    });\n    this.drawWithgl(vertices);\n  }\n  funcAddPoint(vertices: any[], arr: number[]) {\n    arr.forEach(num => {\n      vertices.push(num);\n    });\n  }\n  drawLineBetween(point1: number[], point2: number[]) {\n    const vertices: number[] = [];\n\n    let off = 10;\n    let A = [point1[0], point1[1], point1[2]];\n    let B = [point1[0] + off, point1[1], point1[2]];\n    let C = [point1[0] + off, point1[1] + off, point1[2]];\n    let D = [point1[0], point1[1] + off, point1[2]];\n\n    let E = [point2[0], point2[1], point2[2]];\n    let F = [point2[0] + off, point2[1], point2[2]];\n    let G = [point2[0] + off, point2[1] + off, point2[2]];\n    let H = [point2[0], point2[1] + off, point2[2]];\n\n    [A, B, C, F, G, E, H, A, D, C, H, G, E, F, A, B].forEach(data => {\n      this.funcAddPoint(vertices, data);\n    });\n\n    this.drawWithgl(vertices);\n  }\n\n  // tslint:disable: no-empty\n  public onBeforeDraw(width: number, height: number): void {}\n  public doDraw() {\n    if (!this.initialized || this.stopped) {\n      return;\n    }\n    this.points.forEach((pos, idx) => {\n      this.drawPoint(pos);\n      if (idx % 2 == 1) {\n        // 继续画线和距离\n        let posPre = this.points[idx - 1];\n        this.drawLineBetween(posPre, pos);\n        let vecFrom = vec3.fromValues(posPre[0], posPre[1], posPre[2]);\n        let vecTo = vec3.fromValues(pos[0], pos[1], pos[2]);\n\n        let dis = vec3.distance(vecFrom, vecTo);\n\n        let txt = this.listText[idx];\n        if (!this.listText[idx]) {\n          txt = new TextRender(this.viewer);\n          this.viewer.addPlugin(txt);\n          this.listText[idx] = txt;\n          txt.init();\n          txt.renderText(\"\" + dis);\n          txt.position = vec3.fromValues(\n            (vecFrom[0] + vecTo[0]) / 2,\n            (vecFrom[1] + vecTo[1]) / 2,\n            (vecFrom[2] + vecTo[2]) / 2\n          );\n        }\n        // this.drawTxt(\n        //   (vecFrom[0] + vecTo[0]) / 2,\n        //   (vecFrom[1] + vecTo[1]) / 2,\n        //   (vecFrom[2] + vecTo[2]) / 2\n        // );\n      }\n    });\n  }\n  listText: any[] = [];\n  drawTxt(x: number, y: number, z: number) {}\n\n  public onBeforeDrawId(): void {}\n\n  public onAfterDrawId(): void {}\n\n  public onAfterDrawModelId(): void {}\n}\n","export const vshader = `\n  attribute vec3 coordinates;\n  uniform mediump float uColorCoding; \n  uniform float prodId; \n\n  uniform mat4 uMvMatrix;\n  uniform mat4 uPMatrix;\n  varying vec4 vIdColor;\n\n  vec4 getIdColor(){\n    float product = floor(prodId + 0.5);\n    float B = floor(product / (256.0*256.0));\n    float G = floor((product - B * 256.0*256.0) / 256.0);\n    float R = mod(product, 256.0);\n    return vec4(R / 255.0, G / 255.0, B / 255.0, 1.0);\n }\n\n  void main(void) {\n    if (uColorCoding == 1.0)\n  {\n    vIdColor = getIdColor();\n  } else if (uColorCoding == 2.0){\n   vIdColor = vec4(255.0, 255.0, 0.0, 0.3);\n  } else{\n   vIdColor = vec4(0.0, 255.0, 0.0, 0.0);\n  }\n\n   gl_Position = uPMatrix * uMvMatrix * vec4(coordinates, 1.0);\n  }`;\n","export const vshader = `\n  attribute vec3 coordinates;\n  uniform mediump float uColorCoding; \n  uniform float prodId; \n\n  uniform mat4 uMvMatrix;\n  uniform mat4 uPMatrix;\n  varying vec4 vIdColor;\n\n  vec4 getIdColor(){\n    float product = floor(prodId + 0.5);\n    float B = floor(product / (256.0*256.0));\n    float G = floor((product - B * 256.0*256.0) / 256.0);\n    float R = mod(product, 256.0);\n    return vec4(R / 255.0, G / 255.0, B / 255.0, 1.0);\n }\n\n  void main(void) {\n    if (uColorCoding == 1.0)\n  {\n    vIdColor = getIdColor();\n  } else if (uColorCoding == 2.0){\n   vIdColor = vec4(255.0, 255.0, 0.0, 1.0);\n  } else{\n   vIdColor = vec4(0.0, 255.0, 0.0, 1.0);\n  }\n\n   gl_Position = uPMatrix * uMvMatrix * vec4(coordinates, 1.0);\n  }`;\n","import { IPlugin } from \"../plugin\";\nimport { Viewer, Framebuffer } from \"@xbim/viewer\";\nimport { vshader } from \"./vshader\";\nimport { vec4, vec3, mat4 } from \"gl-matrix\";\n\nexport class LinesDrawer implements IPlugin {\n  private viewer!: Viewer;\n  private program!: WebGLProgram;\n  private vertex_buffer!: WebGLBuffer;\n  private coordinatesAttributePointer!: number;\n  private mvUniformPointer!: WebGLUniformLocation | null;\n  private pUniformPointer!: WebGLUniformLocation | null;\n  private colourUniformPointer!: WebGLUniformLocation | null;\n  private _colourCodingUniformPointer: any;\n  private initialized = false;\n  _prodId: any;\n  private _modelId = 0;\n  dirId!: number;\n  vecOffset!: any;\n\n  /**\n   * Factor used to make the grid bigger than the current region\n   */\n  public factor = 1.5;\n  /**\n   * Fragment of Z height to be used as a Z offset bellow the model\n   */\n  public zFactor = 5.0;\n\n  /**\n   * Number of lines to be drawn\n   */\n  public numberOfLines = 10.0;\n\n  /**\n   * Colour of the grid\n   */\n  public colour = vec4.fromValues(200.0, 0.0, 0.0, 1.0);\n\n  /**\n   * Set to true to stop rendering of this plugin\n   */\n  public get stopped(): boolean {\n    return this._stopped;\n  }\n  public set stopped(value: boolean) {\n    this._stopped = value;\n    if (this.viewer) {\n      this.viewer.draw();\n    }\n  }\n  private _stopped = false;\n\n  public init(viewer: Viewer): void {\n    this.viewer = viewer;\n\n    const gl = viewer.gl;\n\n    this._initShader();\n    gl.useProgram(this.program);\n\n    // return\n    // create vertex buffer\n    this.vertex_buffer = gl.createBuffer() as WebGLBuffer;\n\n    // Get the attribute location\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertex_buffer);\n    this.coordinatesAttributePointer = gl.getAttribLocation(\n      this.program,\n      \"coordinates\"\n    );\n    // Enable the attribute\n    gl.enableVertexAttribArray(this.coordinatesAttributePointer);\n\n    gl.vertexAttribPointer(\n      this.coordinatesAttributePointer,\n      3,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n\n    this._colourCodingUniformPointer = gl.getUniformLocation(\n      this.program,\n      \"uColorCoding\"\n    );\n    gl.enableVertexAttribArray(this._colourCodingUniformPointer);\n\n    this._prodId = gl.getUniformLocation(this.program, \"prodId\");\n    gl.enableVertexAttribArray(this._prodId);\n\n    // get uniform locations\n    this.colourUniformPointer = gl.getUniformLocation(this.program, \"uColour\");\n    this.pUniformPointer = gl.getUniformLocation(this.program, \"uPMatrix\");\n    this.mvUniformPointer = gl.getUniformLocation(this.program, \"uMvMatrix\");\n\n    this.initialized = true;\n  }\n  doMove(deltaX: number, deltaY: number, origin: Float32Array) {\n    let c = 0;\n    const camera = this.viewer.getCameraPosition();\n    const distance = vec3.distance(camera, origin);\n\n    let mainW = (this.viewer.canvas.width = this.viewer.canvas.offsetWidth);\n    let mainH = (this.viewer.canvas.height = this.viewer.canvas.offsetHeight);\n\n    const fov = (this.viewer.cameraProperties.fov * Math.PI) / 180;\n    const h = 2 * distance * Math.tan(fov / 2.0);\n    c = h / mainH;\n\n    // const direction = vec3.subtract(vec3.create(), origin, camera);\n    // vec3.normalize(direction, direction);\n\n    let dis = c * Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n\n    let x1 = 0;\n    let y1 = 0;\n    let z1 = 0;\n    x1 = deltaX > 0 ? dis : -dis;\n    y1 = deltaY > 0 ? dis : -dis;\n    z1 = (deltaY > 0 ? 1 : -1) * dis;\n    let vecMove = vec3.fromValues(x1, y1, -z1);\n    console.log(c);\n\n    let offX = 0,\n      offY = 0,\n      offZ = 0;\n    this.pointes.forEach(arr => {\n      let vecNow = vec3.fromValues(arr[0], arr[1], arr[2]);\n      vec3.add(vecNow, vecNow, vecMove);\n      offX = vecNow[0] - arr[0];\n      offY = -(vecNow[1] - arr[1]);\n      offZ = vecNow[2] - arr[2];\n\n      if (this.dirId == 3 || this.dirId == 4) {\n        offY = 0;\n        offZ = 0;\n      } else if (this.dirId == 1 || this.dirId == 2) {\n        offX = 0;\n        offY = 0;\n      } else if (this.dirId == 5 || this.dirId == 6) {\n        offX = 0;\n        offZ = 0;\n      }\n      arr[0] += offX;\n      arr[1] += offY;\n      arr[2] += offZ;\n      console.log(offX, offY, offZ, this.dirId);\n      // arr[1] += deltaY * c;\n    });\n    this.doOnChangePos(offX, offY, offZ);\n    this.doDraw();\n  }\n  doOnChangePos(moveX: number, moveY: number, moveZ: number) {}\n  private _initShader(): void {\n    var gl = this.viewer.gl;\n    var viewer = this.viewer;\n    var compile = (shader: any, code: any) => {\n      gl.shaderSource(shader, code);\n      gl.compileShader(shader);\n      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        let msg = gl.getShaderInfoLog(shader);\n        viewer.error(msg);\n        return null;\n      }\n    };\n\n    //fragment shader\n    // Fragment shader source code\n    const fragCode = `precision mediump float; uniform vec4 uColour;\n      varying vec4 vIdColor;\n      void main(void) {\n      gl_FragColor = vIdColor;\n      }`;\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER) as WebGLShader;\n    compile(fragmentShader, fragCode);\n\n    //vertex shader (the more complicated one)\n    var vertexShader = gl.createShader(gl.VERTEX_SHADER) as WebGLProgram;\n    compile(vertexShader, vshader);\n\n    //link program\n    this.program = gl.createProgram() as WebGLProgram;\n    gl.attachShader(this.program, vertexShader);\n    gl.attachShader(this.program, fragmentShader);\n    gl.linkProgram(this.program);\n\n    if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\n      viewer.error(\"Could not initialise shaders for a navigation cube plugin\");\n    }\n  }\n  public pointes: any[] = [];\n  getPoints(off = 0, box: any) {\n    let pos = {\n      x: box[0] - off,\n      y: box[1] - off,\n      z: box[2] - off\n    };\n    let size = {\n      x: box[3] + off * 2,\n      y: box[4] + off * 2,\n      z: box[5] + off * 2\n    };\n\n    let A = [pos.x, pos.y, pos.z];\n    let B = [pos.x + size.x, pos.y, pos.z];\n    let C = [pos.x + size.x, pos.y + size.y, pos.z];\n    let D = [pos.x, pos.y + size.y, pos.z];\n\n    let E = [pos.x, pos.y, pos.z + size.z];\n    let F = [pos.x + size.x, pos.y, pos.z + size.z];\n    let G = [pos.x + size.x, pos.y + size.y, pos.z + size.z];\n    let H = [pos.x, pos.y + size.y, pos.z + size.z];\n    return [A, B, C, D, E, F, G, H];\n  }\n  doDraw() {\n    if (!this.initialized || this.stopped || this.pointes.length == 0) {\n      return;\n    }\n\n    let funcAddPoint = (arr: number[], vertices: number[]) => {\n      arr.forEach(num => {\n        vertices.push(num);\n      });\n    };\n\n    let vertices1: number[] = [];\n    this.pointes.forEach((data: any) => {\n      funcAddPoint(data, vertices1);\n    });\n    this.drawPlane(vertices1);\n  }\n  id = 1000;\n  drawPlane(vertices: any) {\n    const gl = this.setActive();\n\n    // set uniforms\n    gl.uniformMatrix4fv(this.pUniformPointer, false, this.viewer.pMatrix);\n    gl.uniformMatrix4fv(this.mvUniformPointer, false, this.viewer.mvMatrix);\n    gl.uniform4fv(this.colourUniformPointer, this.colour);\n    // Bind vertex buffer object\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertex_buffer);\n    // Pass the vertex data to the buffer\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);\n\n    // Point an attribute to the currently bound VBO\n    // gl.bindBuffer(gl.ARRAY_BUFFER, this.vertex_buffer);\n    gl.vertexAttribPointer(\n      this.coordinatesAttributePointer,\n      3,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    gl.uniform1f(this._prodId, this.id);\n\n    gl.enable(gl.BLEND);\n    // gl.enable(gl.DEPTH_TEST);\n    // gl.blendFunc(gl.ONE_MINUS_DST_COLOR, gl.ONE_MINUS_SRC_COLOR);\n\n    // Draw lines\n    gl.drawArrays(gl.LINE_STRIP, 0, vertices.length / 3);\n  }\n\n  // tslint:disable: no-empty\n  public onBeforeDraw(width: number, height: number): void {}\n\n  public onBeforeDrawId(): void {}\n\n  private setActive(): WebGLRenderingContext {\n    var gl = this.viewer.gl;\n    //set own shader\n    gl.useProgram(this.program);\n\n    return gl;\n  }\n  toggleSelected(flagSel = true) {\n    var gl = this.setActive();\n    this._modelId = flagSel ? 2 : 0;\n    gl.uniform1f(this._colourCodingUniformPointer, this._modelId);\n  }\n  public onAfterDraw(width: number, height: number) {\n    if (this.stopped) {\n      return;\n    }\n    var gl = this.setActive();\n    gl.disable(gl.BLEND);\n    gl.enable(gl.DEPTH_TEST);\n\n    //set uniform for colour coding to false\n    gl.uniform1f(this._colourCodingUniformPointer, this._modelId);\n    this.doDraw();\n  }\n  public onAfterDrawId() {\n    if (this.stopped) {\n      return;\n    }\n    var gl = this.setActive();\n    //set uniform for colour coding to true\n    gl.uniform1f(this._colourCodingUniformPointer, 1);\n\n    this.doDraw();\n  }\n\n  public onAfterDrawModelId() {\n    if (this.stopped) {\n      return;\n    }\n    var gl = this.setActive();\n    //set uniform for colour coding to this model id\n    gl.uniform1f(this._colourCodingUniformPointer, this._modelId);\n    this.doDraw();\n  }\n\n  checkSelMian(event: any) {\n    {\n      let viewer = this.viewer;\n      if (this.stopped || viewer.plugins.indexOf(this) < 0) {\n        return 0;\n      }\n\n      var id = this.getId(event) as number;\n      // 更新切面大小\n      return id;\n    }\n  }\n  private getId(event: MouseEvent | Touch) {\n    let x = event.clientX;\n    let y = event.clientY;\n\n    //get coordinates within canvas (with the right orientation)\n    let r = this.viewer.canvas.getBoundingClientRect();\n    let viewX = x - r.left;\n    let viewY = this.viewer.height - (y - r.top);\n\n    const gl = this.viewer.gl;\n    var fb = new Framebuffer(\n      gl,\n      this.viewer.width,\n      this.viewer.height,\n      false,\n      this.viewer.glVersion\n    );\n    gl.viewport(0, 0, this.viewer.width, this.viewer.height);\n    // gl.enable(gl.DEPTH_TEST); //we don't use any kind of blending or transparency\n    gl.disable(gl.BLEND);\n    // clear all\n    gl.clearColor(0, 0, 0, 0); //zero colour for no-values\n    // tslint:disable-next-line: no-bitwise\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n    this.onAfterDrawId();\n    const id = fb.getId(viewX, viewY);\n    fb.delete();\n    return id;\n  }\n}\n","import { IPlugin } from \"../plugin\";\nimport { Viewer, Framebuffer, CameraType } from \"@xbim/viewer\";\nimport { vshader } from \"./vshader\";\nimport { vec4, vec3, mat4, quat, quat2 } from \"gl-matrix\";\nimport { LinesDrawer } from \"../LinesDrawer/LinesDrawer\";\n\n(window as any)[\"vec3\"] = vec3;\n(window as any)[\"mat4\"] = mat4;\n\nexport class MovingPlane implements IPlugin {\n  private viewer!: Viewer;\n  private program!: WebGLProgram;\n  private vertex_buffer!: WebGLBuffer;\n  private coordinatesAttributePointer!: number;\n  private mvUniformPointer!: WebGLUniformLocation | null;\n  private pUniformPointer!: WebGLUniformLocation | null;\n  private colourUniformPointer!: WebGLUniformLocation | null;\n  private _colourCodingUniformPointer: any;\n  private initialized = false;\n  _prodId: any;\n  private _modelId = 0;\n  dirId!: number;\n  vecOffset!: any;\n\n  /**\n   * Factor used to make the grid bigger than the current region\n   */\n  public factor = 1.5;\n  /**\n   * Fragment of Z height to be used as a Z offset bellow the model\n   */\n  public zFactor = 5.0;\n\n  /**\n   * Number of lines to be drawn\n   */\n  public numberOfLines = 10.0;\n\n  /**\n   * Colour of the grid\n   */\n  public colour = vec4.fromValues(200.0, 0.0, 0.0, 1.0);\n\n  /**\n   * Set to true to stop rendering of this plugin\n   */\n  public get stopped(): boolean {\n    return this._stopped;\n  }\n  public set stopped(value: boolean) {\n    this._stopped = value;\n    if (this.lineDrawer) {\n      this.lineDrawer.stopped = value;\n    }\n    if (this.viewer) {\n      this.viewer.draw();\n    }\n  }\n  private _stopped = false;\n\n  public init(viewer: Viewer): void {\n    this.viewer = viewer;\n\n    const gl = viewer.gl;\n\n    this._initShader();\n    gl.useProgram(this.program);\n\n    // return\n    // create vertex buffer\n    this.vertex_buffer = gl.createBuffer() as WebGLBuffer;\n\n    // Get the attribute location\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertex_buffer);\n    this.coordinatesAttributePointer = gl.getAttribLocation(\n      this.program,\n      \"coordinates\"\n    );\n    // Enable the attribute\n    gl.enableVertexAttribArray(this.coordinatesAttributePointer);\n\n    gl.vertexAttribPointer(\n      this.coordinatesAttributePointer,\n      3,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n\n    this._colourCodingUniformPointer = gl.getUniformLocation(\n      this.program,\n      \"uColorCoding\"\n    );\n    gl.enableVertexAttribArray(this._colourCodingUniformPointer);\n\n    this._prodId = gl.getUniformLocation(this.program, \"prodId\");\n    gl.enableVertexAttribArray(this._prodId);\n\n    // get uniform locations\n    this.colourUniformPointer = gl.getUniformLocation(this.program, \"uColour\");\n    this.pUniformPointer = gl.getUniformLocation(this.program, \"uPMatrix\");\n    this.mvUniformPointer = gl.getUniformLocation(this.program, \"uMvMatrix\");\n\n    this.initialized = true;\n  }\n  lastPrg = 50;\n  doMoveByPrg(prg: number) {\n    this.lastPrg = prg;\n    let boxTotal = this.viewer.getTargetBoundingBox();\n    let w = Math.abs(boxTotal[3]);\n    let h = Math.abs(boxTotal[4]);\n    let d = Math.abs(boxTotal[5]);\n\n    prg -= 50;\n\n    let trans = vec3.create();\n    switch (this.dirId) {\n      case 3: {\n        let max = w * 2;\n        let distance = (prg / 100) * max;\n        trans[0] += distance;\n        break;\n      }\n      case 4: {\n        let max = w * 2;\n        let distance = (prg / 100) * max;\n        trans[0] += distance;\n        break;\n      }\n      case 1: {\n        let max = d * 2;\n        let distance = (prg / 100) * max;\n        trans[2] += distance;\n        break;\n      }\n      case 2: {\n        let max = d * 2;\n        let distance = (prg / 100) * max;\n        trans[2] += distance;\n        break;\n      }\n      case 5: {\n        let max = h * 2;\n        let distance = (prg / 100) * max;\n        trans[1] -= distance;\n        break;\n      }\n      case 6: {\n        let max = h * 2;\n        let distance = (prg / 100) * max;\n        trans[1] -= distance;\n        break;\n      }\n    }\n\n    this.pointesBack.forEach((arr, idx) => {\n      let vecNow = vec3.fromValues(arr[0], arr[1], arr[2]);\n      vec3.add(vecNow, vecNow, trans);\n\n      let arrTarget = this.pointes[idx];\n\n      arrTarget[0] = vecNow[0];\n      arrTarget[1] = vecNow[1];\n      arrTarget[2] = vecNow[2];\n    });\n    let faxian: number[][] = [];\n    this.faxian.forEach((arr: number[], idx) => {\n      let vecNow = vec3.fromValues(arr[0], arr[1], arr[2]);\n      vec3.add(vecNow, vecNow, trans);\n\n      faxian[idx] = [];\n\n      faxian[idx][0] = vecNow[0];\n      faxian[idx][1] = vecNow[1];\n      faxian[idx][2] = vecNow[2];\n    });\n    this.doOnChangePos(this.pointes, faxian);\n    this.doDraw();\n  }\n  doMove1(x: number, y: number, origin: Float32Array) {\n    let checkData = this.getId(x, y) as any;\n    // 更新切面大小\n    let xyz = checkData.xyz;\n    return;\n    let offX = 0,\n      offY = 0,\n      offZ = 0;\n    this.pointes.forEach(arr => {\n      let vecNow = vec3.fromValues(xyz[0], xyz[1], xyz[2]);\n\n      offX = vecNow[0] - arr[0];\n      offY = -(vecNow[1] - arr[1]);\n      offZ = vecNow[2] - arr[2];\n\n      // if (this.dirId == 3 || this.dirId == 4) {\n      //   offY = 0;\n      //   offZ = 0;\n      // } else if (this.dirId == 1 || this.dirId == 2) {\n      //   offX = 0;\n      //   offY = 0;\n      // } else if (this.dirId == 5 || this.dirId == 6) {\n      //   offX = 0;\n      //   offZ = 0;\n      // }\n      arr[0] += offX;\n      arr[1] += offY;\n      arr[2] += offZ;\n    });\n    // this.doOnChangePos(offX, offY, offZ);\n    this.doDraw();\n    console.log(checkData.xyz);\n  }\n  // doMove(deltaX: number, deltaY: number, origin: Float32Array) {\n  //   const camera = this.viewer.getCameraPosition();\n  //   const distance = vec3.distance(camera, origin);\n\n  //   let c = 0;\n  //   if (this.viewer.camera === CameraType.ORTHOGONAL) {\n  //     c = this.viewer.cameraProperties.height / this.viewer.height;\n  //   } else {\n  //     const fov = (this.viewer.cameraProperties.fov * Math.PI) / 180;\n  //     const h = 2 * distance * Math.tan(fov / 2.0);\n  //     c = h / this.viewer.height;\n  //   }\n\n  //   let direction = vec3.subtract(vec3.create(), origin, camera);\n\n  //   direction = vec3.normalize(vec3.create(), direction);\n\n  //   let vecMove = vec3.fromValues(c * deltaX, c * deltaY, 0);\n\n  //   // translate by mouse movement\n  //   let transform = mat4.translate(mat4.create(), mat4.create(), vecMove);\n\n  //   let cameraDir = this.viewer.getCameraDirection();\n  //   let cameraHeading = this.viewer.getCameraHeading();\n\n  //   let aCosX = Math.acos(cameraDir[0]);\n  //   let angX = (aCosX / Math.PI) * 180;\n  //   let aCosY = Math.acos(cameraDir[1]);\n  //   let angY = (aCosY / Math.PI) * 180;\n  //   let aCosZ = Math.acos(cameraDir[2]);\n  //   let angZ = (aCosZ / Math.PI) * 180;\n\n  //   var translation = vec3.transformMat4(\n  //     vec3.create(),\n  //     vec3.create(),\n  //     transform\n  //   );\n  //   // translation = vecMove;\n\n  //   console.log(translation, \"before\");\n  //   angZ -= 90;\n  //   vec3.rotateX(translation, translation, [0, 0, 0], angX);\n  //   vec3.rotateY(translation, translation, [0, 0, 0], angY);\n  //   vec3.rotateZ(translation, translation, [0, 0, 0], angZ);\n  //   console.log(angX, angY, angZ);\n  //   console.log(translation, \"after\");\n  //   // vec3.multiply(direction, cameraDir, direction);\n\n  //   let offX = 0,\n  //     offY = 0,\n  //     offZ = 0;\n  //   this.pointes.forEach(arr => {\n  //     let vecNow = vec3.fromValues(arr[0], arr[1], arr[2]);\n\n  //     // if (this.dirId == 3 || this.dirId == 4) {\n  //     //   vec3.multiply(translation, translation, [1, 0, 0]);\n  //     // } else if (this.dirId == 1 || this.dirId == 2) {\n  //     //   vec3.multiply(translation, translation, [0, 0, 1]);\n  //     // } else if (this.dirId == 5 || this.dirId == 6) {\n  //     //   vec3.multiply(translation, translation, [0, 1, 0]);\n  //     // }\n\n  //     vec3.add(vecNow, vecNow, translation);\n\n  //     arr[0] = vecNow[0];\n  //     arr[1] = vecNow[1];\n  //     arr[2] = vecNow[2];\n  //   });\n  //   this.doOnChangePos(translation[0], translation[1], translation[2]);\n  //   this.doDraw();\n  // }\n  doOnChangePos(point: number[], dir: number[][]) {}\n  private _initShader(): void {\n    var gl = this.viewer.gl;\n    var viewer = this.viewer;\n    var compile = (shader: any, code: any) => {\n      gl.shaderSource(shader, code);\n      gl.compileShader(shader);\n      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        let msg = gl.getShaderInfoLog(shader);\n        viewer.error(msg);\n        return null;\n      }\n    };\n\n    //fragment shader\n    // Fragment shader source code\n    const fragCode = `precision mediump float; uniform vec4 uColour;\n      varying vec4 vIdColor;\n      void main(void) {\n      gl_FragColor = vIdColor;\n      }`;\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER) as WebGLShader;\n    compile(fragmentShader, fragCode);\n\n    //vertex shader (the more complicated one)\n    var vertexShader = gl.createShader(gl.VERTEX_SHADER) as WebGLProgram;\n    compile(vertexShader, vshader);\n\n    //link program\n    this.program = gl.createProgram() as WebGLProgram;\n    gl.attachShader(this.program, vertexShader);\n    gl.attachShader(this.program, fragmentShader);\n    gl.linkProgram(this.program);\n\n    if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\n      viewer.error(\"Could not initialise shaders for a navigation cube plugin\");\n    }\n  }\n  public pointes: any[] = [];\n  faxian: number[][] = [];\n  public pointesBack: any[] = [];\n  getPoints(off = 0, box: any) {\n    let pos = {\n      x: box[0] - off,\n      y: box[1] - off,\n      z: box[2] - off\n    };\n    let size = {\n      x: box[3] + off * 2,\n      y: box[4] + off * 2,\n      z: box[5] + off * 2\n    };\n\n    let A = [pos.x, pos.y, pos.z];\n    let B = [pos.x + size.x, pos.y, pos.z];\n    let C = [pos.x + size.x, pos.y + size.y, pos.z];\n    let D = [pos.x, pos.y + size.y, pos.z];\n\n    let E = [pos.x, pos.y, pos.z + size.z];\n    let F = [pos.x + size.x, pos.y, pos.z + size.z];\n    let G = [pos.x + size.x, pos.y + size.y, pos.z + size.z];\n    let H = [pos.x, pos.y + size.y, pos.z + size.z];\n    return [A, B, C, D, E, F, G, H];\n  }\n  doDraw() {\n    if (!this.initialized || this.stopped || this.pointes.length == 0) {\n      return;\n    }\n\n    let funcAddPoint = (arr: number[], vertices: number[]) => {\n      arr.forEach(num => {\n        vertices.push(num);\n      });\n    };\n\n    let vertices1: number[] = [];\n    this.pointes.forEach((data: any) => {\n      funcAddPoint(data, vertices1);\n    });\n    this.drawPlane(vertices1);\n\n    if (!this.lineDrawer) {\n      this.lineDrawer = new LinesDrawer();\n      this.lineDrawer.colour = vec4.fromValues(0.0, 0.0, 0.0, 1.0);\n      this.viewer.addPlugin(this.lineDrawer);\n    }\n    this.lineDrawer.pointes = [\n      this.pointes[0],\n      this.pointes[1],\n      this.pointes[3],\n      this.pointes[2],\n      this.pointes[0]\n    ];\n  }\n  id = 1000;\n  drawPlane(vertices: any) {\n    const gl = this.setActive();\n\n    // set uniforms\n    gl.uniformMatrix4fv(this.pUniformPointer, false, this.viewer.pMatrix);\n    gl.uniformMatrix4fv(this.mvUniformPointer, false, this.viewer.mvMatrix);\n    gl.uniform4fv(this.colourUniformPointer, this.colour);\n    // Bind vertex buffer object\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertex_buffer);\n    // Pass the vertex data to the buffer\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);\n\n    // Point an attribute to the currently bound VBO\n    // gl.bindBuffer(gl.ARRAY_BUFFER, this.vertex_buffer);\n    gl.vertexAttribPointer(\n      this.coordinatesAttributePointer,\n      3,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    gl.uniform1f(this._prodId, this.id);\n\n    gl.enable(gl.BLEND);\n    // gl.enable(gl.DEPTH_TEST);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n    // Draw lines\n    // gl.drawArrays(gl.TRIANGLE_STRIP, 0, vertices.length / 3);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, vertices.length / 3);\n  }\n\n  lineDrawer!: LinesDrawer;\n  // tslint:disable: no-empty\n  public onBeforeDraw(width: number, height: number): void {}\n\n  public onBeforeDrawId(): void {}\n\n  private setActive(): WebGLRenderingContext {\n    var gl = this.viewer.gl;\n    //set own shader\n    gl.useProgram(this.program);\n\n    return gl;\n  }\n  beforeDestroy(){\n    if(this.lineDrawer){\n      this.viewer.removePlugin(this.lineDrawer)\n    }\n  }\n  public flagSelected = false;\n  toggleSelected(flagSel = true) {\n    var gl = this.setActive();\n    this._modelId = flagSel ? 2 : 0;\n    this.flagSelected = flagSel;\n    gl.uniform1f(this._colourCodingUniformPointer, this._modelId);\n  }\n  public onAfterDraw(width: number, height: number) {\n    if (this.stopped) {\n      return;\n    }\n    var gl = this.setActive();\n    gl.disable(gl.BLEND);\n    gl.enable(gl.DEPTH_TEST);\n\n    //set uniform for colour coding to false\n    gl.uniform1f(this._colourCodingUniformPointer, this._modelId);\n    this.doDraw();\n  }\n  public onAfterDrawId() {\n    if (this.stopped) {\n      return;\n    }\n    var gl = this.setActive();\n    //set uniform for colour coding to true\n    gl.uniform1f(this._colourCodingUniformPointer, 1);\n\n    this.doDraw();\n  }\n\n  public onAfterDrawModelId() {\n    if (this.stopped) {\n      return;\n    }\n    var gl = this.setActive();\n    //set uniform for colour coding to this model id\n    gl.uniform1f(this._colourCodingUniformPointer, this._modelId);\n    this.doDraw();\n  }\n\n  checkSelMian(event: any) {\n    {\n      let viewer = this.viewer;\n      if (this.stopped || viewer.plugins.indexOf(this) < 0) {\n        return 0;\n      }\n\n      let checkData = this.getId(event.clientX, event.clientY) as any;\n      // 更新切面大小\n      return checkData.id;\n    }\n  }\n  private getId(x: number, y: number) {\n    //get coordinates within canvas (with the right orientation)\n    let r = this.viewer.canvas.getBoundingClientRect();\n    let viewX = x - r.left;\n    let viewY = this.viewer.height - (y - r.top);\n\n    const gl = this.viewer.gl;\n    var fb = new Framebuffer(\n      gl,\n      this.viewer.width,\n      this.viewer.height,\n      true,\n      this.viewer.glVersion\n    );\n    gl.viewport(0, 0, this.viewer.width, this.viewer.height);\n    gl.enable(gl.DEPTH_TEST); //we don't use any kind of blending or transparency\n    gl.disable(gl.BLEND);\n    // clear all\n    gl.clearColor(0, 0, 0, 0); //zero colour for no-values\n    // tslint:disable-next-line: no-bitwise\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n    this.onAfterDrawId();\n    const id = fb.getId(viewX, viewY);\n    let xyz = fb.getXYZ(viewX, viewY);\n    fb.delete();\n    return { id, xyz };\n  }\n}\n","// @ts-nocheck\n\nimport { Viewer, ViewType, State, NavigationCube, RenderingMode } from \"@xbim/viewer\";\nimport { vec3 } from \"gl-matrix\";\nimport { ClickPanelChecker } from \"./plugins/ClickPanelChecker/ClickPanelChecker\";\nimport { Measure } from \"./plugins/Measure/Measure\";\nimport { MovingPlane } from \"./plugins/MovingPlane/MovingPlane\";\nimport { MouseNavigation } from \"./plugins/navigator/mouse-navigation\";\nimport ManagerMark from \"./manager/ManagerMark\";\nimport { ProductMap } from \"@xbim/viewer/src/common/product-map\";\nimport { TextRender } from \"./plugins/TextRender/TextRender\";\nimport { TextRender2 } from \"./plugins/TextRender2/TextRender2\";\nimport { BoxTest } from \"./plugins/BoxTest/TextRender\";\nimport axios from \"axios\";\nimport _ from \"lodash\"\n\n// 颜色定义\nenum COLOR_DEFINED {\n  SELECTED = 1, // 高亮颜色\n  HIDDEN,\n  IN_TRANSPORT = 11, // 运输中\n  IN_PRODUCED = 12, // 加工中\n  IN_INSTALL = 13, // 安装中\n  NOT_PRODUCED = 14, // 未开始\n  PRODUCED_COMPLETED = 15, // 加工完成\n  INSTALL_COMPLETED = 16, // 安装完成\n  TRANSPORT_COMPLETED = 17 // 运输完成\n}\n\nexport default class XbimCenter {\n  lookAt(prodList: { model: number; id: number }[]) {\n    this.viewer.zoomTo(prodList);\n  }\n\n  action = 0;\n  fps = 0;\n\n  // 标记模式\n  _flagMarking = false;\n  set flagMarking(flag: boolean) {\n    this._flagMarking = flag;\n    if (flag) {\n      this.flagClipping = false;\n      this.flagWalking = false;\n    }\n    this.checkHighlight();\n    this.updateMouseMove();\n  }\n  get flagMarking() {\n    return this._flagMarking;\n  }\n  _flagWalking = false;\n  set flagWalking(flag: boolean) {\n    if (flag) {\n      this.flagMarking = false;\n      this.flagClipping = false;\n    }\n    this._flagWalking = flag;\n  }\n  get flagWalking() {\n    return this._flagWalking;\n  }\n\n  // 高亮选中相关\n  _flagHighlightSelect = true;\n  get flagHighlightSelect() {\n    return this._flagHighlightSelect;\n  }\n  set flagHighlightSelect(flag) {\n    this._flagHighlightSelect = flag;\n    this.updateSelHighlight();\n  }\n  checkHighlight() {\n    this.flagHighlightSelect =\n      !this.flagMeasuring && !this.flagClipping && !this.flagMarking;\n  }\n  doLookAt(list: any) {\n    let modelId = this.selectedData ? this.selectedData.model : 1;\n    let listLookAt: any[] = [];\n    list.forEach(id => {\n      listLookAt.push({\n        model: modelId,\n        id\n      });\n    });\n    console.log(listLookAt);\n    \n    this.lookAt(listLookAt);\n  }\n  hilightedDataList: any = []; // 构件\n  selectedChildren: any[] = []; // 零件数组\n  ComponentID: Number = null\n  state= \"\"\n  // 更新选中高亮\n  updateSelHighlight() {\n    // console.log(this.hilightedDataList, this.selectedChildren);\n    if (!this.stateFlag) {\n      // 每次给上次选中的构件加上取消样式\n      this.hilightedDataList.forEach((conf: any) => {\n        // 每一个上次选中的零件加上取消样式\n        // this.viewer.setStyle(State.UNSTYLED, conf.list, conf.model);\n        this.viewer.setStyle(State.UNSTYLED, conf.list, conf.model);\n      });\n      this.hilightedDataList = []\n      if (this.selectedData) {\n        if (this.flagHighlightSelect) {\n          this.viewer.setStyle(\n            COLOR_DEFINED.SELECTED,\n            this.selectedChildren || [this.selectedData.id],\n            this.selectedData.model\n          );\n          this.hilightedDataList.push({\n            list: this.selectedChildren || [this.selectedData.id],\n            modal: this.selectedData.model\n          });\n        } else {\n          this.viewer.setStyle(\n            State.UNSTYLED,\n            [this.selectedData.id],\n            this.selectedData.model\n          );\n        }\n      }\n    } else {\n      console.log('着色' + this.state,this.hilightedDataList);\n      \n      switch (this.state) {\n        case \"运输中\": {\n          this.hilightedDataList.forEach((conf: any) => {\n            this.viewer.setStyle(COLOR_DEFINED.IN_TRANSPORT, conf.list, conf.model);\n            this.state=''\n          });\n          break;\n        }\n        case \"加工中\": {\n          this.hilightedDataList.forEach((conf: any) => {\n            this.viewer.setStyle(COLOR_DEFINED.IN_PRODUCED, conf.list, conf.model);\n            this.state=''\n          });\n          break;\n        }\n        case \"安装中\": {\n          this.hilightedDataList.forEach((conf: any) => {\n            this.viewer.setStyle(COLOR_DEFINED.IN_INSTALL, conf.list, conf.model);\n            this.state=''\n          });\n          break;\n        }\n        case \"未开始\": {\n          this.hilightedDataList.forEach((conf: any) => {\n            this.viewer.setStyle(COLOR_DEFINED.NOT_PRODUCED, conf.list, conf.model);\n            this.state=''\n          });\n          break;\n        }\n        case \"加工完成\": {\n          this.hilightedDataList.forEach((conf: any) => {\n            this.viewer.setStyle(COLOR_DEFINED.PRODUCED_COMPLETED, conf.list, conf.model);\n            this.state=''\n          });\n          break;\n        }\n        case \"安装完成\": {          \n          this.hilightedDataList.forEach((conf: any) => {\n            this.viewer.setStyle(COLOR_DEFINED.INSTALL_COMPLETED, conf.list, conf.model);\n            this.state=''\n          });\n          break;\n        }\n        case \"运输完成\": {\n          this.hilightedDataList.forEach((conf: any) => {\n            this.viewer.setStyle(COLOR_DEFINED.TRANSPORT_COMPLETED, conf.list, conf.model);\n            this.state=''\n          });\n          break;\n        }\n        default: {          \n            this.hilightedDataList.forEach((conf: any) => {\n              this.viewer.setStyle(State.UNSTYLED, conf.list, conf.model);\n            });\n        }\n        \n      }\n      // this.hilightedDataList.forEach((conf: any) => {\n      //   this.viewer.setStyle(COLOR_DEFINED.COMPLETED, conf.list, conf.model);\n      // });\n      this.hilightedDataList = []\n      if (this.selectedData) {\n        if (this.flagHighlightSelect) {          \n          this.viewer.setStyle(\n            COLOR_DEFINED.SELECTED,\n            this.selectedChildren || [this.selectedData.id],\n            this.selectedData.model\n          );\n          this.hilightedDataList.push({\n            list: this.selectedChildren || [this.selectedData.id],\n            modal: this.selectedData.model\n          })\n        } else {\n          this.viewer.setStyle(\n            COLOR_DEFINED.COMPLETED,\n            [this.selectedData.id],\n            this.selectedData.model\n          );\n        }\n      }\n    }\n  }\n  IN_TRANSPORT_DataList: any = [] // 运输中状态构件数组\n  IN_PRODUCED_DataList: any = [] // 加工中状态构件数组\n  IN_INSTALL_DataList: any = [] // 安装中状态构件数组\n  NOT_PRODUCED_DataList: any = [] // 未开始状态构件数组\n  PRODUCED_COMPLETED_DataList: any = [] // 加工完成状态构件数组\n  INSTALL_COMPLETED_DataList: any = [] // 安装完成状态构件数组\n  TRANSPORT_COMPLETED_DataList: any = [] // 运输完成状态构件数组\n  id = ''\n  // 状态视图切换\n  updateState() {\n    this.viewer.setStyle(COLOR_DEFINED.IN_TRANSPORT, this.IN_TRANSPORT_DataList);\n    this.viewer.setStyle(COLOR_DEFINED.IN_PRODUCED, this.IN_PRODUCED_DataList);\n    this.viewer.setStyle(COLOR_DEFINED.IN_INSTALL, this.IN_INSTALL_DataList);\n    this.viewer.setStyle(COLOR_DEFINED.NOT_PRODUCED, this.NOT_PRODUCED_DataList);\n    this.viewer.setStyle(COLOR_DEFINED.PRODUCED_COMPLETED, this.PRODUCED_COMPLETED_DataList);\n    this.viewer.setStyle(COLOR_DEFINED.INSTALL_COMPLETED, this.INSTALL_COMPLETED_DataList);\n    this.viewer.setStyle(COLOR_DEFINED.TRANSPORT_COMPLETED, this.TRANSPORT_COMPLETED_DataList);\n    // this.viewer.setState(252, this.NOT_PRODUCED_DataList);\n    // this.viewer.setState(252, this.IN_PRODUCED_DataList);\n    // this.viewer.setState(252, this.IN_TRANSPORT_DataList);\n    // this.viewer.setState(252, this.IN_INSTALL_DataList);\n    // this.viewer.setState(252, this.COMPLETED_DataList);\n  }\n  resetState() {\n    // 重置为其默认样式\n    this.viewer.resetStyles()\n  }\n  //  测距模式相关\n  _flagMeasuring = false;\n  get flagMeasuring() {\n    return this._flagMeasuring;\n  }\n  set flagMeasuring(flag) {\n    if (flag) {\n      // 关闭会冲突的模式\n    } else {\n      this.clearMeasure();\n    }\n    this._flagMeasuring = flag;\n    this.checkHighlight();\n  }\n\n  currentPoint = [-1, -1, -1];\n\n  _selectedData?: { model: number; id: number };\n  get selectedData() {\n    return this._selectedData;\n  }\n  set selectedData(data: { model: number; id: number } | undefined) {\n    this._selectedData = data;\n\n    if (this.selectedData) {\n      this.selectedChildren = [this.selectedData.id];\n    }\n  }\n  // 待重写\n  onUpdateSel(data: any) {}\n  /**\n   * 待重写的方法\n   */\n  selectedHandler(id: number, model: number) {}\n\n  /**\n   *内部数据\n   */\n  viewer!: Viewer;\n  models: any[] = [];\n  Frequency = null // 是否点击标识（定时器编号）\n  stateFlag = false\n  fid: \"\" // 文件id\n  token = \"\"\n  newDataTree: any[] = []\n  stateTree: any[] = []\n  /**\n   *初始化用的方法\n   */\n  pannelClickChecker!: ClickPanelChecker;\n  measure!: Measure;\n\n  lastClickId = -1;\n\n  ctrMarking!: ManagerMark;\n  init(canvas: any) {\n    this.viewer = new Viewer(canvas);\n\n    this.ctrMarking = new ManagerMark(this.viewer, this);\n\n    this.definedColor();\n    // 背景色RGBA\n    this.viewer.background = [255, 255, 255];\n    // this.viewer.hoverPickEnabled = true;\n    this.pannelClickChecker = new ClickPanelChecker();\n    this.viewer.addPlugin(this.pannelClickChecker);\n\n    this.measure = new Measure();\n    this.measure.init(this.viewer);\n    this.viewer.addPlugin(this.measure);\n\n    this.listen();\n    // 导航盒\n    var cube = new NavigationCube();\n    cube.ratio = 0.1;\n    cube.passiveAlpha = 1.2\n    cube.activeAlpha = 1.0;\n    cube.highlighting = 2\n    cube.minSize = 100;\n    this.viewer.addPlugin(cube);\n    // let txt = new BoxTest(this.viewer);\n    // txt.renderText(\"asdsadadsadad\");\n    // this.viewer.addPlugin(txt);\n  }\n  lastPickArg!: any;\n  constructor() {}\n  scrollFunc(event: WheelEvent) {\n    if (event.stopPropagation) {\n      event.stopPropagation();\n    }\n    if (event.preventDefault) {\n      event.preventDefault();\n    }\n\n    let selClipping = this.clippingPlanes.find(\n      (plane: any) => plane.plugin.flagSelected\n    );\n    if (selClipping) {\n      let prgNew = selClipping.plugin.lastPrg + event.deltaY * 0.01;\n      this.lastPrg = prgNew;\n      selClipping.plugin.doMoveByPrg(prgNew);\n    } else {\n    }\n  }\n  listen() {\n    this.viewer.canvas.addEventListener(\n      \"wheel\",\n      e => {\n        this.scrollFunc(e);\n      },\n      true\n    );\n\n    this.viewer.on(\"error\", arg => {\n      var container = this.viewer.canvas.parentNode as HTMLElement;\n      if (container) {\n        //preppend error report\n        container.innerHTML =\n          \"<pre style='color:red;'>\" +\n          arg.message +\n          \"</pre>\" +\n          container.innerHTML;\n      }\n    });\n\n    let lastMousePos: any = null;\n\n    MouseNavigation.initMouseEvents(this.viewer);\n\n    // MouseNavigation.onMouseMove1 = (x: number, y: number, origin: any) => {\n    //   // return;\n    //   if (!this.flagMouseDownClip || !this.showClipping) {\n    //     return;\n    //   }\n    //   let selPlane = this.clippingPlanes.find(\n    //     c => c.plugin.id == this.selectedClipPlane\n    //   );\n    //   if (selPlane) {\n    //     selPlane.plugin.doMove1(x, y, origin);\n    //   }\n    // };\n    // MouseNavigation.onMouseMove = (\n    //   deltaX: number,\n    //   deltaY: number,\n    //   origin: any\n    // ) => {\n    //   return;\n    //   if (!this.flagMouseDownClip || !this.showClipping) {\n    //     return;\n    //   }\n    //   let selPlane = this.clippingPlanes.find(\n    //     c => c.plugin.id == this.selectedClipPlane\n    //   );\n    //   if (selPlane) {\n    //     selPlane.plugin.doMove(deltaX, deltaY, origin);\n    //   }\n    // };\n\n    this.viewer.on(\"pick\", arg => {\n      let wcs = this.viewer.getCurrentWcs();\n      let evt: any = arg.event;\n      if (lastMousePos) {\n        let offX = evt.clientX - lastMousePos.x;\n        let offY = evt.clientX - lastMousePos.x;\n      }\n      lastMousePos = evt;\n    });\n    // 单击\n    this.viewer.on(\"pick\", arg => {\n      if (this.Frequency) { // 取消上次未执行完的方法\n        this.Frequency = clearInterval(this.Frequency)\n      }\n      this.Frequency =setTimeout(() => { // 定时器事件\n        // this.viewer.stopPicking(arg.id)\n        // this.id = arg.id\n        // let id = this.viewer.getStyle(arg.id)\n        // console.log(this.viewer.isProductInModel(arg.id,arg.model));\n        this.lastPickArg = arg;\n        let wcs = this.viewer.getCurrentWcs();\n        if (arg.xyz) {\n          this.handlePick(arg);\n          if (this.stateFlag) {            \n            this.newDataTree.forEach(item => {\n              if (item.parts.includes(String(arg.id))) {\n                _.forIn(this.stateTree, (value, key) => {                  \n                  if (value.includes(item.id)) {\n                    console.log(key);\n                    this.state = key\n                    return false\n                  }\n                })\n              }\n            })\n          }\n          // this.textRender.drawCube()\n          this.viewer.draw();\n          let point = vec3.add(vec3.create(), wcs, arg.xyz);\n          this.onUpdateSel(Object.assign({ fromModelClick: true }, this.selectedData));\n        }\n        this.flagCreateNew = false;\n      },300)\n    });\n    // 双击\n    this.viewer.on(\"dblclick\", (arg) => {\n      if (this.Frequency) { // 取消上次未执行完的方法\n        this.Frequency = clearInterval(this.Frequency)\n      }\n      if (arg.id) {\n        // let prodId = arg.id;\n        // let modelId = arg.model;\n        // this.selectedData = {\n        //   id: prodId,\n        //   model: modelId\n        // };\n        this.lookAt([arg]);\n        // this.updateSelHighlight()\n      }\n      // viewer.addState(State.HIDDEN, [arg.id], arg.model);\n  });\n    this.viewer.on(\"fps\", fps => {\n      this.fps = fps;\n    });\n    this.viewer.on(\"mouseup\", e => {\n      this.flagMouseDownClip = false;\n    });\n    this.viewer.on(\"mousedown\", arg => {\n      this.flagMouseDownClip = true;\n      this.selectedClipPlane = 0;\n      this.clippingPlanes.forEach(conf => {\n        let selId = conf.plugin.checkSelMian(arg.event);\n        if (selId) {\n          this.selectedClipPlane = selId;\n        }\n      });\n      this.flagRotate = false;\n    });\n  }\n  // 定义颜色样式最多224个 将索引值传递给setState就能改变外观样式\n  definedColor() {\n    this.viewer.defineStyle(COLOR_DEFINED.SELECTED, [0, 255, 0, 170]);\n    this.viewer.defineStyle(COLOR_DEFINED.HIDDEN, [0, 255, 0, 0]);\n    this.viewer.defineStyle(COLOR_DEFINED.IN_TRANSPORT, [245,36,67, 255]); // 运输中\n    this.viewer.defineStyle(COLOR_DEFINED.IN_PRODUCED, [240,131,0, 255]); // 加工中\n    this.viewer.defineStyle(COLOR_DEFINED.IN_INSTALL, [255,255,36, 255]); // 安装中\n    this.viewer.defineStyle(COLOR_DEFINED.NOT_PRODUCED, [2,179,64, 255]); // 未开始\n    this.viewer.defineStyle(COLOR_DEFINED.PRODUCED_COMPLETED, [121,210,210, 255]); // 加工完成\n    this.viewer.defineStyle(COLOR_DEFINED.INSTALL_COMPLETED, [46,98,205, 255]); // 安装完成\n    this.viewer.defineStyle(COLOR_DEFINED.TRANSPORT_COMPLETED, [204,153,255, 255]); // 运输完成\n  }\n  clearMeasure() {\n    this.measure.points = [];\n    this.measure.stopped = true;\n    this.measure.clearAll();\n    this.measure.doDraw();\n  }\n  handlePick(arg: any) {\n    let wcs = this.viewer.getCurrentWcs();\n    let point = vec3.add(vec3.create(), wcs, arg.xyz);\n    let prodId = arg.id;\n    let modelId = arg.model;\n    let pos = [point[0], point[1], point[2]];\n\n    if (this.flagMeasuring) {\n      if (prodId && modelId) {\n        this.measure.stopped = false;\n        this.measure.points.push(pos);\n        this.measure.doDraw();\n        return;\n      }\n    }\n    if (this.flagClipping) {\n      this.createClippingPlane(arg);\n      return;\n    }\n    if (this.flagMarking) {\n      return;\n    }\n\n    this.currentPoint = pos;\n    if (this.selectedData && this.selectedData.id == prodId) {\n      this.resetSelected();\n    } else {\n      this.selectedData = {\n        id: prodId,\n        model: modelId\n      };\n    }\n\n    // let bbox=this.viewer.activeHandles[0]._model['productMaps'][prodId]\n\n    this.updateSelHighlight();\n  }\n\n  /**\n   *实用方法\n   */\n  changeSelected(id: number, model: number) {\n    this.selectedHandler && this.selectedHandler(id, model);\n    this.selectedData = { id, model };\n  }\n  walk(dir: number, timeOffset: number) {\n    if (!this.flagWalking) {\n      return;\n    }\n    let x = 0;\n    let y = 0;\n    let offset = timeOffset / 5;\n    if (dir == 1) {\n      y += offset * 2;\n    }\n    if (dir == 2) {\n      x -= offset;\n    }\n    if (dir == 3) {\n      y -= offset * 2;\n    }\n    if (dir == 4) {\n      x += offset;\n    }\n    if (y != 0) {\n      this.viewer.navigate(\"walk\", x, y, vec3.fromValues(0, 0, 0));\n    } else if (x != 0) {\n      this.viewer.navigate(\"pan\", x, y, vec3.fromValues(0, 0, 0));\n    }\n  }\n  // 只显示选中的元素\n  showAllItems(model: number) {\n    this.viewer.setState(State.UNSTYLED, this.listHidden, model);\n    this.listHidden = [];\n  }\n  listHidden: any[] = [];\n  // 只显示选中的元素\n  hideItems(prodList: number[], model: number) {\n    // this.viewer.isolate(prodList, model);\n    this.showAllItems(model);\n    this.listHidden = this.listHidden.concat(prodList);\n    this.viewer.setState(State.HIDDEN, prodList, model);\n  }\n  resetSelected() {\n    this.selectedData = undefined;\n  }\n  async loadViewAsync(url: string) {\n    this.viewer.load(url, undefined, undefined, e => {});\n  }\n  // 加载wexbim文件\n  loadView(file: any, loadCall?: any) {\n    // console.log(file, file.name);\n    this.viewer.load(file, file.name);\n    this.viewer.xrayColour = [245, 0, 0, 20]\n    // this.viewer.renderingMode = RenderingMode.XRAY\n    let funcFinish = (evt: any) => {\n      this.models.push({ id: evt.model, name: evt.tag, stopped: false });\n      this.viewer.show(ViewType.DEFAULT, undefined, undefined, false);\n      loadCall && loadCall(evt);\n      this.viewer.off(\"loaded\", funcFinish);\n      this.viewer.start(evt.model);\n      // console.log(this.viewer.getModelState(evt.model));      \n    };\n    this.viewer.on(\"loaded\", funcFinish);\n  }\n\n  unload(id: number) {\n    this.viewer.unload(id);\n    this.models = this.models.filter(m => m.id !== id);\n    this.viewer.draw();\n  }\n  stop(id: number) {\n    this.viewer.stop(id);\n    var model = this.models.filter(m => m.id === id).pop();\n    model.stopped = true;\n  }\n\n  start(id: number) {\n    this.viewer.start(id);\n    var model = this.models.filter(m => m.id === id).pop();\n    model.stopped = false;\n  }\n\n  // 裁切相关部分\n  updateMouseMove() {\n    let flag = this.selectedClipPlane || this.flagMarking;\n    this.toggleMouseMove(!flag);\n    return flag;\n  }\n  _flagMouseDownClip = false;\n  get flagMouseDownClip() {\n    return this._flagMouseDownClip;\n  }\n  set flagMouseDownClip(flag: boolean) {\n    this._flagMouseDownClip = flag;\n    this.updateMouseMove();\n  }\n  _showClipping = true;\n  set showClipping(flag: boolean) {\n    this._showClipping = flag;\n    this.clippingPlanes.forEach((conf: any) => {\n      conf.plugin.stopped = !flag;\n    });\n  }\n  get showClipping() {\n    return this._showClipping;\n  }\n  moveClippingplane(prg: number) {\n    let selClipping = this.clippingPlanes.find(\n      (plane: any) => plane.plugin.flagSelected\n    );\n    if (selClipping) {\n      selClipping.plugin.doMoveByPrg(prg);\n    } else {\n    }\n  }\n\n  flagClippingCreating = false;\n  _flagClipping = false;\n  set flagClipping(flag) {\n    if (flag) {\n      // 关闭会冲突的模式\n      this.flagWalking = false;\n      this.flagMarking = false;\n    } else {\n      this.toggleClipping(false);\n    }\n    this._flagClipping = flag;\n    this.checkHighlight();\n  }\n  get flagClipping() {\n    return this._flagClipping;\n  }\n\n  flagCreateNew = false;\n  flagClip = false;\n\n  clippingId = \"A\";\n  toggleClipping(flag = true) {\n    if (!flag) {\n      this.resetClipBox();\n    }\n  }\n\n  _selectedClipPlane!: any;\n  get selectedClipPlane() {\n    return this._selectedClipPlane;\n  }\n  set selectedClipPlane(arg: any) {\n    console.log(arg, \"arg\");\n\n    this._selectedClipPlane = arg;\n    this.clippingPlanes.forEach(conf => {\n      let plugin = conf.plugin;\n      plugin.stopped = true;\n      plugin.toggleSelected(plugin.id == this.selectedClipPlane);\n      if (this.showClipping) {\n        plugin.stopped = false;\n      }\n    });\n\n    this.changeClippingPrg = false;\n    let selPlane = this.clippingPlanes.find(\n      c => c.plugin.id == this.selectedClipPlane\n    );\n    if (selPlane) {\n      this.changeClippingPrg = true;\n      this.lastPrg = selPlane.plugin.lastPrg;\n    }\n    this.updateMouseMove();\n  }\n\n  changeClippingPrg = false;\n  lastPrg = 50;\n\n  clippingPlanes: any[] = [];\n  createClippingPlane(arg: any) {\n    if (!this.flagCreateNew) {\n      return;\n    }\n    let prodId = arg.id;\n    let modelId = arg.model;\n\n    // 计算方向\n    let box = this.viewer.getProductBoundingBox(prodId, modelId);\n    this.createClipBox(box);\n  }\n\n  createClipBox(box: any) {\n    if (this.clippingPlanes.length >= 2) {\n      return;\n    }\n    let panelId = this.clippingPlanes.length;\n    let panel = this.pannelClickChecker.getClickPanel(\n      box,\n      this.lastPickArg.event\n    );\n    let ffDrawClip = () => {\n      let arrFrom = panel.faxian[0];\n      let arrTo = panel.faxian[1];\n      let vec = vec3.fromValues(\n        arrTo[0] - arrFrom[0],\n        arrTo[1] - arrFrom[1],\n        arrTo[2] - arrFrom[2]\n      );\n      // 标准化成方向向量\n      vec3.normalize(vec, vec);\n      let planeClip = this.getPanel(panel.faxian[0], [vec[0], vec[1], vec[2]]);\n      if (panelId == 0) {\n        this.viewer.unclip();\n        this.viewer.setClippingPlaneA(planeClip);\n      } else {\n        this.viewer.setClippingPlaneB(planeClip);\n      }\n    };\n    ffDrawClip();\n    let plugin = new MovingPlane();\n    this.viewer.addPlugin(plugin);\n    plugin.pointes = panel.plane1;\n    plugin.faxian = panel.faxian;\n    plugin.pointesBack = JSON.parse(JSON.stringify(panel.plane1));\n    plugin.dirId = panel.id;\n    plugin.doDraw();\n    plugin.doOnChangePos = (point: number[], dir: number[][]) => {\n      let arrFrom = dir[0];\n      let arrTo = dir[1];\n      let vec = vec3.fromValues(\n        arrTo[0] - arrFrom[0],\n        arrTo[1] - arrFrom[1],\n        arrTo[2] - arrFrom[2]\n      );\n      // 标准化成方向向量\n      vec3.normalize(vec, vec);\n      let planeClip = this.getPanel(dir[0], [vec[0], vec[1], vec[2]]);\n      if (panelId == 0) {\n        this.viewer.unclip();\n        this.viewer.setClippingPlaneA(planeClip);\n      } else {\n        this.viewer.setClippingPlaneB(planeClip);\n      }\n    };\n    let planeObj = {\n      plugin,\n      clipId: panelId\n    };\n    plugin.id = 1000 + planeObj.clipId;\n    this.clippingPlanes.push(planeObj);\n    // this.selectedClipPlane = plugin.id;\n  }\n  cancelSelClipPlane() {\n    this.selectedClipPlane = null;\n  }\n\n  toggleMouseMove(flag: boolean) {\n    this.viewer.navigationMode = flag ? \"orbit\" : \"none\";\n  }\n  getPanel(point: number[], normal: number[]) {\n    var d =\n      0.0 - normal[0] * point[0] - normal[1] * point[1] - normal[2] * point[2];\n    return [normal[0], normal[1], normal[2], d];\n  }\n  resetClipBox() {\n    this.clippingPlanes.forEach(conf => {\n      conf.plugin.beforeDestroy && conf.plugin.beforeDestroy();\n      this.viewer.removePlugin(conf.plugin);\n    });\n    this.clippingPlanes = [];\n    this.selectedClipPlane = null;\n    this.viewer.unclip();\n  }\n  // 旋转相关\n  _flagRotate = false;\n  set flagRotate(flag: boolean) {\n    this._flagRotate = flag;\n    if (flag) {\n      this.viewer.startRotation();\n    } else {\n      this.viewer.stopRotation();\n    }\n  }\n  get flagRotate() {\n    return this._flagRotate;\n  }\n}\n","import { Viewer } from \"@xbim/viewer\";\nimport { ProductIdentity } from \"@xbim/viewer/src/common/product-identity\";\nimport { vec3, mat4, quat, vec2 } from \"gl-matrix\";\n\nexport class MouseNavigation {\n  static onMouseMove1(x: number, y: number, origin: any) {}\n  static onMouseMove(deltaX: number, deltaY: number, origin: any) {}\n  public static initMouseEvents(viewer: Viewer) {\n    let mouseDown = false;\n    let lastMouseX: any = null;\n    let lastMouseY: any = null;\n    let startX: any = null;\n    let startY: any = null;\n    let button = \"L\";\n    let id = -1;\n    let modelId = -1;\n    let xyz: any = null;\n    let isPointerLocked = false;\n\n    let origin = vec3.create();\n\n    //set initial conditions so that different gestures can be identified\n    const handleMouseDown = (event: MouseEvent) => {\n      mouseDown = true;\n      lastMouseX = event.clientX;\n      lastMouseY = event.clientY;\n      startX = event.clientX;\n      startY = event.clientY;\n\n      //get coordinates within canvas (with the right orientation)\n      let r = viewer.canvas.getBoundingClientRect();\n      let viewX = startX - r.left;\n      let viewY = viewer.height - (startY - r.top);\n\n      //this is for picking\n      const data = viewer.getEventData(viewX, viewY);\n      if (data == null) {\n        mouseDown = false;\n        return;\n      }\n\n      id = data.id;\n      modelId = data.model;\n      xyz = data.xyz;\n\n      if (data == null || data.id == null || data.model == null) {\n        const region = viewer.getMergedRegion();\n        if (region == null || region.centre == null) {\n          // there is nothing in the viewer\n          mouseDown = false;\n          return;\n        }\n        origin = vec3.fromValues(\n          region.centre[0],\n          region.centre[1],\n          region.centre[2]\n        );\n      } else if (data.xyz == null) {\n        const bb = viewer.getTargetBoundingBox(data.id, data.model);\n        origin = vec3.fromValues(\n          bb[0] + bb[3] / 2.0,\n          bb[1] + bb[4] / 2.0,\n          bb[2] + bb[5] / 2.0\n        );\n      } else {\n        origin = data.xyz;\n      }\n    };\n\n    const handleMouseUp = (event: MouseEvent) => {\n      if (!mouseDown) return;\n\n      mouseDown = false;\n    };\n\n    var handleLookAround = (event: MouseEvent) => {\n      const sensitivity = 0.5;\n      if (viewer.navigationMode !== \"walk\") {\n        return;\n      }\n\n      viewer.navigate(\n        \"look-at\",\n        event.movementX * sensitivity,\n        event.movementY * sensitivity,\n        origin\n      );\n    };\n\n    var handleMouseMove = (event: MouseEvent) => {\n      var newX = event.clientX;\n      var newY = event.clientY;\n\n      var deltaX = newX - lastMouseX;\n      var deltaY = newY - lastMouseY;\n\n      lastMouseX = newX;\n      lastMouseY = newY;\n\n      this.onMouseMove(deltaX, deltaY, origin);\n      this.onMouseMove1(newX, newY, origin);\n    };\n\n    //attach callbacks\n    viewer.canvas.addEventListener(\n      \"mousedown\",\n      event => handleMouseDown(event),\n      true\n    );\n    window.addEventListener(\"mouseup\", event => handleMouseUp(event), true);\n    window.addEventListener(\"mousemove\", event => handleMouseMove(event), true);\n  }\n}\n","import { Viewer } from \"@xbim/viewer\";\nimport { ClickPanelChecker } from \"../plugins/ClickPanelChecker/ClickPanelChecker\";\nimport XbimCenter from \"../XbimCenter\";\nimport { vec3 } from \"gl-matrix\";\nimport { MovingPlane } from \"../plugins/MovingPlane/MovingPlane\";\nimport { LinesDrawer } from \"../plugins/LinesDrawer/LinesDrawer\";\n\nexport default class ManagerMark {\n  linesDrawer: LinesDrawer[] = [];\n  hintTouchingPlane: MovingPlane;\n  parent!: XbimCenter;\n  viewer!: Viewer;\n  clickChecker!: ClickPanelChecker;\n\n  throttle(fn: any, wait = 100) {\n    var pre = Date.now();\n    let func = function(arg: any) {\n      var args: any = arguments;\n      var now = Date.now();\n      if (now - pre >= wait) {\n        fn.apply(ManagerMark, args);\n        pre = Date.now();\n      }\n    };\n    return func;\n  }\n  constructor(viewer: Viewer, parent: XbimCenter) {\n    this.parent = parent;\n    this.viewer = viewer;\n    this.clickChecker = new ClickPanelChecker();\n    this.viewer.addPlugin(this.clickChecker);\n\n    this.hintTouchingPlane = new MovingPlane();\n    this.hintTouchingPlane.stopped = true;\n    this.viewer.addPlugin(this.hintTouchingPlane);\n\n    let lastPos: any = null;\n    let lastXYZ: vec3;\n    let lastLineDrawer!: LinesDrawer | undefined;\n\n    let funcDraw = this.throttle((xyz: any) => {\n      if (lastLineDrawer) {\n        lastLineDrawer.pointes.push(xyz);\n        lastLineDrawer.doDraw();\n      }\n    }, 30);\n\n    this.viewer.on(\"mousedown\", arg => {\n      let event: any = arg.event;\n      lastPos = [event.clientX, event.clientY];\n      if (arg.xyz) {\n        lastXYZ = arg.xyz;\n\n        lastLineDrawer = new LinesDrawer();\n        this.viewer.addPlugin(lastLineDrawer);\n        this.linesDrawer.push(lastLineDrawer);\n        lastLineDrawer.pointes = [];\n        funcDraw(arg.xyz);\n      }\n    });\n\n    let flagDraw = false;\n    this.viewer.on(\"mousemove\", arg => {\n      if (!this.parent.flagMarking) {\n        return;\n      }\n      let event: any = arg.event;\n\n      if (lastPos) {\n        // let offset = [event.clientX - lastPos[0], event.clientY - lastPos[1]];\n        // lastPos = [event.clientX, event.clientY];\n        // // lastXYZ[0] += offset[0] * 1000;\n        // // lastXYZ[1] += offset[1] * 1000;\n        // console.log(lastXYZ, \"lastXYZlastXYZlastXYZlastXYZ\");\n        // funcDraw(lastXYZ);\n      }\n\n      if (arg.xyz) {\n        funcDraw(arg.xyz);\n        flagDraw = true;\n        // 有接触到模型\n        let prodId = arg.id;\n        let modelId = arg.model;\n\n        let len = 500;\n\n        // 计算方向\n        let box = this.viewer.getProductBoundingBox(prodId, modelId);\n        let panel = this.clickChecker.getClickPanel(box, arg.event);\n        if (!panel) {\n          return;\n        }\n        // this.hintTouchingPlane.stopped = false;\n        let [A, B, C, D] = panel.plane;\n\n        // let plane=\n        // 根据法线，画一个小方块，标记当前选中的面\n        let vecA = vec3.fromValues(A[0], A[1], A[2]);\n        let vecB = vec3.fromValues(B[0], B[1], B[2]);\n        let vecC = vec3.fromValues(C[0], C[1], C[2]);\n        let vecD = vec3.fromValues(D[0], D[1], D[2]);\n\n        let vecAB = vec3.create();\n        vec3.subtract(vecAB, vecA, vecB);\n        vec3.normalize(vecAB, vecAB);\n        vec3.scale(vecAB, vecAB, len);\n\n        let vecCD = vec3.create();\n        vec3.subtract(vecCD, vecC, vecD);\n        vec3.normalize(vecCD, vecCD);\n        vec3.scale(vecCD, vecCD, len);\n\n        let vecAC = vec3.create();\n        vec3.subtract(vecAC, vecA, vecC);\n        vec3.normalize(vecAC, vecAC);\n        vec3.scale(vecAC, vecAC, len);\n\n        let xyz = arg.xyz;\n\n        let A1 = vec3.create();\n        let B1 = vec3.create();\n        let C1 = vec3.create();\n        let D1 = vec3.create();\n        vec3.add(A1, xyz, vecAB);\n        vec3.subtract(B1, xyz, vecAB);\n        vec3.add(C1, xyz, vecAC);\n        vec3.subtract(D1, xyz, vecAC);\n\n        this.hintTouchingPlane.pointes = [A1, C1, D1, B1];\n        this.hintTouchingPlane.dirId = panel.id;\n\n        this.hintTouchingPlane.doDraw();\n      }\n    });\n\n    this.viewer.on(\"mouseup\", arg => {\n      lastLineDrawer = undefined;\n      if (!this.parent.flagMarking) {\n        return;\n      }\n      if (!flagDraw) {\n        alert(\"起始点必须在某个面上\");\n      }\n    });\n  }\n\n  clearAll() {\n    this.linesDrawer.forEach((drawer: LinesDrawer) => {\n      drawer.stopped = true;\n      drawer.pointes = [];\n      drawer.stopped = false;\n      drawer.doDraw();\n    });\n  }\n  getTouchPoint() {}\n  getGridData() {\n    // let len\n  }\n}\n","<template>\n  <div class=\"wrap-tree noselect\">\n    <el-card class=\"box-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>目录树</span>\n          <!-- <el-button class=\"button\" type=\"text\">操作按钮</el-button> -->\n        </div>\n      </template>\n      <el-row :gutter=\"20\">\n        <el-col :span=\"12\">\n          <el-input clearable @change=\"doSearch\" v-model=\"searchKey\" placeholder=\"请输入关键字搜索\"></el-input>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-select @change=\"onChangeTag\" v-model=\"searchTag\" placeholder=\"请选择显示条件\">\n            <el-option\n              v-for=\"item in showOpts\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            ></el-option>\n          </el-select>\n        </el-col>\n      </el-row>\n\n      <!-- <el-row class=\"mgTop8\">\n        <el-col :span=\"6\">\n          <el-button @click=\"toggleAll(false)\">隐藏选中</el-button>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-button @click=\"toggleAll(true)\">显示选中</el-button>\n        </el-col>\n      </el-row> -->\n      <slot></slot>\n      <el-scrollbar max-height=\"500px\">\n        <el-tree\n          :show-checkbox=\"true\"\n          accordion\n          class=\"filter-tree mgTop8\"\n          :data=\"listShow\"\n          :props=\"defaultProps\"\n          ref=\"tree\"\n          node-key=\"id\"\n          :filter-node-method=\"filterNode\"\n          @node-click=\"onSingleClick\"\n        >\n          <template #default=\"{ node, data }\">\n            <div\n              class=\"custom-tree-node\"\n              @dblclick.stop.prevent=\"onDbClick(data)\"\n            >\n              <!-- <span>{{data}}</span> -->\n              <span>{{ data.groupName||data.mark||data[searchTag] }}</span>\n              <span>\n                <i\n                  @click.stop=\"() => toggleHidden(data,node)\"\n                  :class=\"`icon icon-ic_${checkHidden(data)?'invisible':'visible'}`\"\n                ></i>\n              </span>\n            </div>\n          </template>\n        </el-tree>\n      </el-scrollbar>\n    </el-card>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport axios from \"axios\";\nimport { Options, Vue } from \"vue-class-component\";\n@Options({\n  watch: {\n    treeList() {\n      // console.log(\"watch\");\n      this.updateData();\n    },\n    displayflag() {\n      this.toggleAll(this.displayflag)\n    }\n  },\n  props: {\n    treeList: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n    displayflag: {\n      type: Boolean,\n      default: null\n    }\n  },\n  computed: {\n    selectedIds() {\n      return (this as any).$refs.tree\n        .getCheckedNodes(true)\n        .map((item: any) => item.id);\n    }\n  }\n})\nexport default class Tree extends Vue {\n  timerClick!: any;\n  delayClick = 300;\n  // 触发单击\n  onSingleClick(data: any) {\n    clearTimeout(this.timerClick); // 清除第一个单击事件\n    this.timerClick = setTimeout(() => {\n      console.log(\"触发单击\", data);\n      this.doSelPord(data);\n    }, this.delayClick);\n  }\n  // 触发双击\n  onDbClick(data: any) {\n    clearTimeout(this.timerClick); // 清除第一个单击事件\n    if (data.parts) {\n      console.log(\"触发lookat\", data);\n      this.doLookAt(data.parts.split(\",\"));\n    }\n  }\n  filterNode(value: any, data: any) {\n    return !data.isProd && (\"\" + data[this.searchTag]).indexOf(value) > -1;\n  }\n  checkHidden(data: any) {\n    let listParts = this.getProdId(data);\n    return listParts.every((e: any) => e.hidden);\n  }\n  doLookAt(list: any) {\n    this.$emit(\"doLookAt\", list);\n  }\n  getProdId(data: any) {\n    let listProd: any = [];\n    if (data.children) {\n      data.children.forEach((sub1: any) => {\n        listProd = listProd.concat(this.getProdId(sub1));\n      });\n    } else {\n      listProd = listProd.concat([data]);\n    }\n    return listProd;\n  }\n  doSelPord(data: any) {\n    // let listParts = this.getProdId(data);\n\n    // let parId = listParts[0].parId;\n\n    if (data.groupName) {\n      this.$emit(\"getDetailInfo\", {});\n    } else {\n      console.log(222, data);\n      this.$emit(\"getDetailInfo\", data);\n      this.$emit(\"selInModel\", data.parts.split(\",\"), data.id);\n    }\n  }\n  mounted() {\n    this.updateData();\n  }\n  showOpts = [\n    {\n      label: \"typeName\",\n      value: \"typeName\"\n    },\n    {\n      label: \"name\",\n      value: \"name\"\n    },\n    {\n      label: \"width\",\n      value: \"width\"\n    },\n    {\n      label: \"mark\",\n      value: \"mark\"\n    },\n    {\n      label: \"unitWeight\",\n      value: \"unitWeight\"\n    },\n    {\n      label: \"bottomElevation\",\n      value: \"bottomElevation\"\n    },\n    {\n      label: \"id\",\n      value: \"id\"\n    }\n  ];\n  treeList!: any[];\n  listShow: Object[] = [];\n  searchTag = \"name\";\n  searchKey = \"\";\n  defaultProps = {\n    children: \"children\",\n    label: \"name\"\n  };\n  onChangeTag() {\n    this.searchKey = \"\";\n    this.doSearch();\n  }\n  updateVisible() {\n    let listWillHide: any[] = [];\n    let listParts = this.getProdId({ children: this.listShow });\n    this.listShow.forEach((itemGroup: any) => {\n      itemGroup.children.forEach((item: any) => {\n        if (item.hidden) {\n          item.parts.split(\",\").forEach((id: string) => {\n            listWillHide.push(+id);\n          });\n        }\n      });\n    });\n    this.$emit(\"hideItems\", listWillHide);\n  }\n  toggleAll(flag: boolean) {\n    let list = (this as any).$refs.tree.getCheckedNodes(true);\n    list.forEach((element: any) => {\n      let node = (this as any).$refs.tree.getNode(element.id);\n      node.data.hidden = !flag;\n    });\n    this.updateVisible();\n  }\n  toggleHidden(data: any, node?: any) {\n    data.hidden = !data.hidden;\n    let listParts = this.getProdId(data);\n    listParts.forEach((confPart: any) => {\n      confPart.hidden = data.hidden;\n    });\n    this.updateVisible();\n  }\n  doSearch() {\n    this.updateData();\n  }\n  listParts!: any[];\n  updateData() {\n    let listShow: any[] = [];\n    let listChildren: any[] = [];\n    // 分组\n    let objGroup = {};\n    this.listParts = [];\n    this.treeList.forEach(itemModel => {\n      itemModel.children.forEach((itemSub: any) => {\n        let itemGroup = listShow.find(\n          (e: any) => e.groupName == itemSub[this.searchTag]\n        );\n        if (!itemGroup) {\n          itemGroup = {\n            groupName: itemSub[this.searchTag],\n            children: [],\n            isGroup: true\n          };\n          listShow.push(itemGroup);\n        }\n        itemGroup.children.push(itemSub);\n        this.listParts.push(itemSub);\n      });\n    });\n\n    this.listShow = listShow;\n\n    this.$nextTick(() => {\n      (this as any).$refs.tree.filter(this.searchKey);\n    });\n  }\n}\n</script>\n\n\n\n\n","\nimport axios from \"axios\";\nimport { Options, Vue } from \"vue-class-component\";\n@Options({\n  watch: {\n    treeList() {\n      // console.log(\"watch\");\n      this.updateData();\n    },\n    displayflag() {\n      this.toggleAll(this.displayflag)\n    }\n  },\n  props: {\n    treeList: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n    displayflag: {\n      type: Boolean,\n      default: null\n    }\n  },\n  computed: {\n    selectedIds() {\n      return (this as any).$refs.tree\n        .getCheckedNodes(true)\n        .map((item: any) => item.id);\n    }\n  }\n})\nexport default class Tree extends Vue {\n  timerClick!: any;\n  delayClick = 300;\n  // 触发单击\n  onSingleClick(data: any) {\n    clearTimeout(this.timerClick); // 清除第一个单击事件\n    this.timerClick = setTimeout(() => {\n      console.log(\"触发单击\", data);\n      this.doSelPord(data);\n    }, this.delayClick);\n  }\n  // 触发双击\n  onDbClick(data: any) {\n    clearTimeout(this.timerClick); // 清除第一个单击事件\n    if (data.parts) {\n      console.log(\"触发lookat\", data);\n      this.doLookAt(data.parts.split(\",\"));\n    }\n  }\n  filterNode(value: any, data: any) {\n    return !data.isProd && (\"\" + data[this.searchTag]).indexOf(value) > -1;\n  }\n  checkHidden(data: any) {\n    let listParts = this.getProdId(data);\n    return listParts.every((e: any) => e.hidden);\n  }\n  doLookAt(list: any) {\n    this.$emit(\"doLookAt\", list);\n  }\n  getProdId(data: any) {\n    let listProd: any = [];\n    if (data.children) {\n      data.children.forEach((sub1: any) => {\n        listProd = listProd.concat(this.getProdId(sub1));\n      });\n    } else {\n      listProd = listProd.concat([data]);\n    }\n    return listProd;\n  }\n  doSelPord(data: any) {\n    // let listParts = this.getProdId(data);\n\n    // let parId = listParts[0].parId;\n\n    if (data.groupName) {\n      this.$emit(\"getDetailInfo\", {});\n    } else {\n      console.log(222, data);\n      this.$emit(\"getDetailInfo\", data);\n      this.$emit(\"selInModel\", data.parts.split(\",\"), data.id);\n    }\n  }\n  mounted() {\n    this.updateData();\n  }\n  showOpts = [\n    {\n      label: \"typeName\",\n      value: \"typeName\"\n    },\n    {\n      label: \"name\",\n      value: \"name\"\n    },\n    {\n      label: \"width\",\n      value: \"width\"\n    },\n    {\n      label: \"mark\",\n      value: \"mark\"\n    },\n    {\n      label: \"unitWeight\",\n      value: \"unitWeight\"\n    },\n    {\n      label: \"bottomElevation\",\n      value: \"bottomElevation\"\n    },\n    {\n      label: \"id\",\n      value: \"id\"\n    }\n  ];\n  treeList!: any[];\n  listShow: Object[] = [];\n  searchTag = \"name\";\n  searchKey = \"\";\n  defaultProps = {\n    children: \"children\",\n    label: \"name\"\n  };\n  onChangeTag() {\n    this.searchKey = \"\";\n    this.doSearch();\n  }\n  updateVisible() {\n    let listWillHide: any[] = [];\n    let listParts = this.getProdId({ children: this.listShow });\n    this.listShow.forEach((itemGroup: any) => {\n      itemGroup.children.forEach((item: any) => {\n        if (item.hidden) {\n          item.parts.split(\",\").forEach((id: string) => {\n            listWillHide.push(+id);\n          });\n        }\n      });\n    });\n    this.$emit(\"hideItems\", listWillHide);\n  }\n  toggleAll(flag: boolean) {\n    let list = (this as any).$refs.tree.getCheckedNodes(true);\n    list.forEach((element: any) => {\n      let node = (this as any).$refs.tree.getNode(element.id);\n      node.data.hidden = !flag;\n    });\n    this.updateVisible();\n  }\n  toggleHidden(data: any, node?: any) {\n    data.hidden = !data.hidden;\n    let listParts = this.getProdId(data);\n    listParts.forEach((confPart: any) => {\n      confPart.hidden = data.hidden;\n    });\n    this.updateVisible();\n  }\n  doSearch() {\n    this.updateData();\n  }\n  listParts!: any[];\n  updateData() {\n    let listShow: any[] = [];\n    let listChildren: any[] = [];\n    // 分组\n    let objGroup = {};\n    this.listParts = [];\n    this.treeList.forEach(itemModel => {\n      itemModel.children.forEach((itemSub: any) => {\n        let itemGroup = listShow.find(\n          (e: any) => e.groupName == itemSub[this.searchTag]\n        );\n        if (!itemGroup) {\n          itemGroup = {\n            groupName: itemSub[this.searchTag],\n            children: [],\n            isGroup: true\n          };\n          listShow.push(itemGroup);\n        }\n        itemGroup.children.push(itemSub);\n        this.listParts.push(itemSub);\n      });\n    });\n\n    this.listShow = listShow;\n\n    this.$nextTick(() => {\n      (this as any).$refs.tree.filter(this.searchKey);\n    });\n  }\n}\n","import { render } from \"./Tree.vue?vue&type=template&id=d514ea12\"\nimport script from \"./Tree.vue?vue&type=script&lang=ts\"\nexport * from \"./Tree.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport \"./font/iconfont\";\nimport \"./font/iconfont.css\";\nimport \"./index.scss\";\nimport { Options, Vue } from \"vue-class-component\";\nimport axios from \"axios\";\nimport { mapState, mapActions, mapMutations } from \"vuex\";\nimport XbimCenter from \"./XbimCenter\";\nimport Tree from \"./plugins/Tree.vue\";\nimport { ElMessage } from 'element-plus'\nimport screenfull from \"screenfull\";\nimport _ from \"lodash\"\n@Options({\n  components: { Tree },\n  props: {\n    config: {\n      type: Array,\n      default() {\n        return [];\n      }\n    }\n  },\n  computed: {\n    ...mapState([])\n  },\n  watch: {\n    flagMeasuring(flag) {\n      if (!flag) {\n        this.clearMeasure();\n      }\n    },\n    flagClipping(flag) {\n      if (!flag) {\n        this.resetPlane();\n      }\n    }\n  }\n})\nexport default class xBim extends Vue {\n  loadingDetail = false;\n  // 完成接口传输赋值\n  prodDataLoaded(data: any) {\n    this.loadingDetail = false;\n    this.detailData = data;\n  }\n  getDetailInfo(data: any) {\n    console.log(data);\n    let id = data.parId;\n    // fromModelClick 是否是从点击3d模型来的，点击3d模型返回的一定是零件id\n    if (data.fromModelClick) {\n      // 如果是零件，通过接口获取详细信息\n      this.loadingDetail = true;\n      if (data.id) {\n        axios({\n          url: 'http://192.168.0.117:9001/bimwebservice/ifcfile/select/structure',\n          method: \"post\",\n          headers: {\n            accessToken: this.token\n          },\n          data: {\n            filePath: 'http://192.168.0.117:9002//2020SJ036 杭政储出[2020]18号地块商品住宅4#楼\\\\三维模型管理\\\\模型1\\\\sushelou.ifc',\n            fileid: '3108',\n            label: data.id,\n            type: 0\n          }\n        }).then(res => {\n          if (res.data.code===0) {\n            // console.log(res.data.data);\n            this.prodDataLoaded(JSON.parse(res.data.data));\n          }\n        })\n        this.sendMsgToPar(\"loadProdData\", {\n          id: data.id\n        });\n      }\n    } else {\n      // 否则直接从json将数据渲染\n      let detailData: any = {};\n      for (let key in data) {\n        if (key != \"parts\") {\n          // 过滤零件列表\n          detailData[key] = data[key];\n        }\n      }\n      this.detailData = detailData;\n    }\n  }\n  changeClipPrg() {\n    this.ctrXbim.moveClippingplane(this.progress);\n  }\n  // 目录树双击方法\n  doLookAt(list: any) {\n    this.ctrXbim.doLookAt(list);\n  }\n  // 目录树单击方法\n  selInModel(list: any[], id: Number) {\n    this.ctrXbim.selectedData = { id: 1, model: 1 };\n    this.ctrXbim.selectedChildren = list;\n    this.ctrXbim.ComponentID = id\n    if (this.Modeflag) {\n      _.forIn(this.stateTree, (value, key) => {                  \n        if (value.includes(id)) {\n          this.ctrXbim.state = key\n          // 更新高亮\n          this.ctrXbim.updateSelHighlight();\n          return false\n        }\n      })\n    } else {\n      this.ctrXbim.updateSelHighlight();\n    }\n  }\n  detailData: any = {};\n\n  checkSelectedProdIds(data: any) {\n    this.getDetailInfo(data);\n  }\n  clearMarking() {\n    this.ctrXbim.ctrMarking.clearAll();\n  }\n  get progress() {\n    return this.ctrXbim.lastPrg;\n  }\n  set progress(val: number) {\n    this.ctrXbim.lastPrg = val;\n  }\n  loading = false;\n  searchKey = \"\";\n  dataTree: any[] = [];\n  style = \"\";\n  selData = {};\n  ctrXbim: XbimCenter = new XbimCenter();\n  selAxis = \"\";\n  Attribute_details = false;\n  flag = true;\n  isFullscreen = false;\n  Modeflag = false\n  colorkey: any[] = []\n  stateUrl= \"\" // 状态接口\n  fid= \"\" // 文件id\n  token= \"\"\n  camera= false\n  stateTree: any[] = []\n  get self() {\n    return this as any;\n  }\n  async mounted() {\n    window.addEventListener(\"message\", this.onParMsg);\n\n    document.addEventListener(\"keydown\", this.onKeyDown);\n    document.addEventListener(\"keyup\", this.onKeyUp);\n    this.onUpdate();\n    this.ctrXbim.init(this.$refs.canvas);\n\n    this.ctrXbim.onUpdateSel = data => {\n      this.checkSelectedProdIds(data);\n    };\n    // 模拟文件\n    let res: any = await this.loadFile(\"/model/臻圆Y01mx.wexbim\");\n    let dataTree: any = await this.loadJson(\"/model/臻圆Y01mx.json\");\n    dataTree.model = res.model;\n    this.dataTree.push(dataTree);\n    this.dataTree = this.dataTree.concat();\n    // 保存json构件树    \n    let newdataTree = _.cloneDeep(this.dataTree[0].children)\n    newdataTree.forEach(item => {\n      return item.parts = item.parts.split(',')\n    })\n    this.ctrXbim.newDataTree = newdataTree;\n    (window as any).doDraw = this.doDraw;\n    (window as any).url = this.getstateurl;\n    (window as any).token = this.gettoken;    \n    this.sendMsgToPar(\"222\", { a: 2 });\n  }\n  // iframe接收接口零件数据\n  onParMsg(event: any) {\n    // console.log('触发了单击')\n    var origin = event.origin;\n    // 验证一次消息来源，也可不加\n    // if (origin !== \"http://example.org:8080\")\n    //   return;\n\n    console.log(event.data, \"eeeeeeeeeee\");\n    try {\n      let data = JSON.parse(event.data);\n      switch (data.type) {        \n        case \"prodDataLoaded\": {\n        console.log(data.type);\n          this.prodDataLoaded(data.data);\n          break;\n        }\n      }\n    } catch (e) {}\n  }\n  sendMsgToPar(type = \"\", data = {}) {\n    window.parent.postMessage(JSON.stringify({ type, data }), \"*\");\n  }\n  lastTime!: number;\n  onUpdate(time?: number) {\n    if (time) {\n      let timeOffset = time - this.lastTime;\n      this.lastTime = time;\n      this.handleKeyEvent(timeOffset);\n    }\n    // Do whatever\n    requestAnimationFrame(this.onUpdate);\n  }\n  doDraw(dataTree: any, dataModel: Blob) {\n    this.loading = true;\n    // let newdataTree = _.cloneDeep(dataTree.children)\n    // newdataTree.forEach(item => {\n    //   return item.parts = item.parts.split(',')\n    // })\n    // this.ctrXbim.newDataTree = newdataTree;\n    // return;\n    this.ctrXbim.loadView(dataModel, (res: any) => {\n      this.loading = false;\n      dataTree.model = res.model;\n      this.dataTree.push(dataTree);\n      // 触发数组set监听\n      this.dataTree = this.dataTree.concat();\n      // 加载进度\n      // this.ctrXbim.viewer.loadAsync(dataModel, \"base\", {accessToken: this.token}, (msg) => {\n      //   // console.log(MessageProgress(msg).toFixed(2));\n      //   console.log(msg.percent);\n        \n      //   // progress.innerHTML = `[${MessageProgress(msg).toFixed(2)}%] ${msg.message}`;\n      // });\n    });\n  }\n  // 获得状态接口\n  getstateurl(data: any) {\n    this.stateUrl = data.data\n    this.fid = data.fid\n    this.ctrXbim.fid = data.fid\n  }\n  // 获得回显状态接口\n  gettoken(data: any) {\n    this.token = data.token\n    this.ctrXbim.token = data.token\n  }\n  printData() {\n    // console.log(Object.prototype.toString.call(this.detailData))\n    console.log(Object.keys(this.detailData))\n  }\n  resetPlane() {\n    this.progress = 50;\n    this.ctrXbim.resetClipBox();\n  }\n  downKey = \"\";\n  onKeyUp(evt: any) {\n    if (evt.key == this.downKey) {\n      this.downKey = \"\";\n    }\n  }\n  onKeyDown(evt: any) {\n    this.downKey = evt.key;\n  }\n  handleKeyEvent(timeOffset: number) {\n    switch (this.downKey) {\n      case \"w\": {\n        this.ctrXbim.walk(1, timeOffset);\n        break;\n      }\n      case \"a\": {\n        this.ctrXbim.walk(4, timeOffset);\n        break;\n      }\n      case \"s\": {\n        this.ctrXbim.walk(3, timeOffset);\n        break;\n      }\n      case \"d\": {\n        this.ctrXbim.walk(2, timeOffset);\n        break;\n      }\n    }\n  }\n  loadJson(url: string) {\n    return new Promise(rsv => {\n      axios({\n        url,\n        method: \"get\"\n      }).then(e => {\n        rsv(e.data);\n      });\n    });\n  }\n  loadFile(url: string) {\n    return new Promise(rsv => {\n      this.loading = true;\n      axios({\n        url,\n        method: \"get\",\n        responseType: \"blob\"\n      }).then(e => {\n        let blob = e.data;\n        // console.log(blob, \"blobblobblobblobblobblob\");\n        // todo:loadView的性能明显优于loadViewAsync。原因待排查\n        this.ctrXbim.loadView(blob, (e: any) => {\n          this.loading = false;\n          rsv(e);\n        });\n      });\n    });\n  }\n  hideItems(idList: number[]) {\n    this.ctrXbim.hideItems(idList, 1);\n  }\n  // 更改相机模式\n  cameraChange() {\n    this.camera = !this.camera\n    if (this.camera) {\n      this.ctrXbim.viewer.camera = 1\n    } else {\n      this.ctrXbim.viewer.camera = 0\n    }\n  }\n  // 视图模式切换\n  toggleChange() {\n    const dom = document.getElementsByClassName(\"gld_mode\")[0]\n    this.Modeflag? dom.classList.remove('active') : dom.classList.add('active')\n    this.Modeflag = !this.Modeflag\n    const tree = JSON.parse(JSON.stringify(this.dataTree[0].children))\n    if(this.Modeflag) {\n      this.ctrXbim.hilightedDataList = []\n      this.ctrXbim.stateFlag = true\n      axios({\n        url: 'http://192.168.0.117:9001/bimwebservice/ifcfile/select/structures/status',\n        // url: this.stateUrl,\n        headers: {\n          accessToken: this.token\n        },\n        method: \"post\",\n        data: {\n          fid: '3108'\n          // fid: this.fid\n        }\n      }).then(res => {\n        if (res.data.code===0) {          \n          const data = JSON.parse(res.data.data)\n          this.ctrXbim.stateTree = data;\n          this.stateTree = data;\n          _.forIn(data, (value,key) => {\n            this.colorkey.push(key)\n          })\n          const IN_TRANSPORT: any[] = [] // 运输中\n          const IN_PRODUCED: any[] = [] // 加工中\n          const IN_INSTALL: any[] = [] // 安装中\n          const NOT_PRODUCED: any[] = [] // 未开始\n          const PRODUCED_COMPLETED: any[] = [] // 加工完成\n          const INSTALL_COMPLETED: any[] = [] // 安装完成\n          const TRANSPORT_COMPLETED: any[] = [] // 运输完成\n          data.运输中.forEach(item => {\n            _.find(tree, ['id', item]).parts.split(\",\").forEach(element => {\n              IN_TRANSPORT.push(element)\n            })\n          })\n          data.加工中.forEach(item => {\n            _.find(tree, ['id', item]).parts.split(\",\").forEach(element => {\n              IN_PRODUCED.push(element)\n            })\n          })\n          data.安装中.forEach(item => {\n            _.find(tree, ['id', item]).parts.split(\",\").forEach(element => {\n              IN_INSTALL.push(element)\n            })\n          })\n          data.未开始.forEach(item => {\n            _.find(tree, ['id', item]).parts.split(\",\").forEach(element => {\n              NOT_PRODUCED.push(element)\n            })\n          })\n          data.加工完成.forEach(item => {\n            _.find(tree, ['id', item]).parts.split(\",\").forEach(element => {\n              PRODUCED_COMPLETED.push(element)\n            })\n          })\n          data.安装完成.forEach(item => {\n            _.find(tree, ['id', item]).parts.split(\",\").forEach(element => {\n              INSTALL_COMPLETED.push(element)\n            })\n          })\n          data.运输完成.forEach(item => {\n            _.find(tree, ['id', item]).parts.split(\",\").forEach(element => {\n              TRANSPORT_COMPLETED.push(element)\n            })\n          })\n          this.ctrXbim.IN_TRANSPORT_DataList = IN_TRANSPORT\n          this.ctrXbim.IN_PRODUCED_DataList = IN_PRODUCED\n          this.ctrXbim.IN_INSTALL_DataList = IN_INSTALL\n          this.ctrXbim.NOT_PRODUCED_DataList = NOT_PRODUCED\n          this.ctrXbim.PRODUCED_COMPLETED_DataList = PRODUCED_COMPLETED\n          this.ctrXbim.INSTALL_COMPLETED_DataList = INSTALL_COMPLETED\n          this.ctrXbim.TRANSPORT_COMPLETED_DataList = TRANSPORT_COMPLETED\n          this.ctrXbim.updateState()\n        }\n      })\n      // console.log(JSON.parse(JSON.stringify(this.dataTree[0].children)));\n      \n    } else {\n      this.ctrXbim.stateFlag = false\n      this.ctrXbim.resetState()\n    }\n  }\n  // 旋转\n  toggleRotate() {\n    const dom = document.getElementsByClassName(\"gld_rotate\")[0]\n    this.ctrXbim.flagRotate ? dom.classList.remove('active') : dom.classList.add('active')\n    this.ctrXbim.flagRotate = !this.ctrXbim.flagRotate;\n  }\n  // 测量\n  toggleMeasure() {\n    const dom = document.getElementsByClassName(\"gld_measure\")[0]\n    this.ctrXbim.flagMeasuring ? dom.classList.remove('active') : dom.classList.add('active')\n    this.ctrXbim.flagMeasuring = !this.ctrXbim.flagMeasuring;\n  }\n  // 漫游\n  toggleWalking() {\n    const dom = document.getElementsByClassName(\"gld_roam\")[0]\n    this.ctrXbim.flagWalking ? dom.classList.remove('active') : dom.classList.add('active')\n    this.ctrXbim.flagWalking = !this.ctrXbim.flagWalking;\n  }\n  // 标记\n  toggleMarking() {\n    // if (this.ctrXbim.flagMarking) {\n    //   this.clearMarking()\n    //   return false\n    // }\n    const dom = document.getElementsByClassName(\"gld_sign\")[0]\n    this.ctrXbim.flagMarking ? dom.classList.remove('active') : dom.classList.add('active')\n    this.ctrXbim.flagMarking = !this.ctrXbim.flagMarking;\n  }\n  Markingnter() {\n    const dom = document.getElementsByClassName(\"remove_toolbar\")[0]\n    dom.classList.add('display')\n    dom.classList.remove('hidden')\n  }\n  Markingout() {\n    const dom = document.getElementsByClassName(\"remove_toolbar\")[0]\n    dom.classList.add('hidden')\n    dom.classList.remove('display')\n  }\n  // 剖切\n  toggleClipping() {\n    const dom = document.getElementsByClassName(\"gld_Sectioning\")[0]\n    this.ctrXbim.flagClipping ? dom.classList.remove('active') : dom.classList.add('active')\n    this.ctrXbim.flagClipping = !this.ctrXbim.flagClipping;\n  }\n  // 详情\n  toggleDetails() {\n    const dom = document.getElementsByClassName(\"gld_details\")[0]\n    this.Attribute_details ? dom.classList.remove('active') : dom.classList.add('active')\n    this.Attribute_details = !this.Attribute_details;\n  }\n  remove() {\n    this.Attribute_details =false\n    const dom = document.getElementsByClassName(\"gld_details\")[0]\n    dom.classList.remove('active')\n  }\n  toggleflag() {\n    this.flag = !this.flag\n  }\n  isScreenFull() {\n    this.isFullscreen = !this.isFullscreen\n    // 需要注意的是 如果判断!screenfull.enabled 显示的是不支持全屏的话 是因为谷歌的版本问题  判断改为 !screenfull.isEnabled  就可以了\n    if (!screenfull.isEnabled) {\n      // 如果不支持进入全屏，发出不支持提示\n      ElMessage.warning({\n        message: '浏览器不支持全屏',\n        type: 'warning'\n      });\n      return false;\n    }\n    screenfull.toggle();\n  }\n  \n  cancelSelClipPlane() {\n    this.ctrXbim.cancelSelClipPlane();\n  }\n  toggleClippingPlane() {\n    const dom = document.getElementsByClassName(\"able\")[0]\n    !this.ctrXbim.showClipping ? dom.classList.remove('active') : dom.classList.add('active')\n    this.ctrXbim.showClipping = !this.ctrXbim.showClipping;\n  }\n  toggleCreateClip() {\n    if (this.ctrXbim.clippingPlanes.length>=2) {\n      ElMessage.warning({\n        message: '最多只能创建2个剖切面',\n        type: 'warning'\n      });\n      return\n    }\n    this.ctrXbim.flagCreateNew = !this.ctrXbim.flagCreateNew;\n  }\n}\n","import { render } from \"./xBim.vue?vue&type=template&id=0f1c68f0\"\nimport script from \"./xBim.vue?vue&type=script&lang=ts\"\nexport * from \"./xBim.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHashHistory, RouteRecordRaw } from \"vue-router\";\nimport xBim from \"../plugin/xBim/xBim.vue\";\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: \"/\",\n    name: \"xBim\",\n    component: xBim\n  },\n  {\n    path: \"/about\",\n    name: \"About\",\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () =>\n      import(/* webpackChunkName: \"about\" */ \"../views/About.vue\")\n  }\n];\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n});\n\nexport default router;\n","import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","// @ts-nocheck\nimport { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\n\nimport ElementPlus from \"element-plus\";\nimport \"element-ui/lib/theme-chalk/index.css\";\n\n// import PluginTest from \"./plugin/xBim/index.js\";\n\ncreateApp(App, {})\n  .use(store)\n  .use(router)\n  // .use(PluginTest)\n  .use(ElementPlus)\n  .mount(\"#app\");\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=01d8139b&lang=scss\""],"sourceRoot":""}